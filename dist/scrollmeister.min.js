/*!
 * Scrollmeister v0.0.1-alpha.1 (April 17th 2018)
 * Open-source JavaScript framework to declaratively build scrolling experiences
 * 
 * https://www.scrollmeister.com
 * 
 * @author  Alexander Prinzhorn (https://www.prinzhorn.it)
 * @license MIT
 * 
 * This bundle contains the following npm packages: document-register-element, linear-partitioning, object-assign, raf, regl, resize-observer-polyfill, scroll-logic, youtube-iframe
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Scrollmeister=e()}}(function(){var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(r,i){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(r),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))t.call(o,u)&&(s[u]=o[u]);if(e){a=e(o);for(var c=0;c<a.length;c++)n.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s},i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default={parse:function(e){return"true"===(e=e.trim())||"on"===e||"yes"===e||"1"===e},stringify:function(e){return String(e)}};var o={};Object.defineProperty(o,"__esModule",{value:!0});var a=["px","vw","vh","vmin","vmax","%"],s=new RegExp("[\\d.]("+a.join("|")+")$");o.default={parse:function(e){if("0"===(e=e.trim()))return{length:0,unit:"px"};var t=e.match(s),n=parseFloat(e);if(!t)throw new Error('The value "'+e+'" uses a unit that is not supported by Scrollmeister. Supported units are '+a.join(", ")+".");if(isNaN(n))throw new Error('Could not parse "'+e+'" as a number.');return{length:n,unit:t[1]}},stringify:function(e){return""+e.length+e.unit}};var l={};Object.defineProperty(l,"__esModule",{value:!0});var u,c=(u=o)&&u.__esModule?u:{default:u},h=/^(\d+)\s*\/\s*(\d+)$/;l.default={parse:function(e){if("auto"===(e=e.trim()))return e;var t=e.match(h);return t?{length:parseInt(t[2],10)/parseInt(t[1],10)*100,unit:"%"}:c.default.parse(e)},stringify:function(e){return"auto"===e?e:c.default.stringify(e)}};var f={};Object.defineProperty(f,"__esModule",{value:!0});var d=/skip\s+(\d+)/,p=/consume\s+(\d+)/;function v(e){return e.hasAttribute("layout")&&"flow"===e.layout.props.mode}function y(e){for(var t=e;t.previousSibling;)if((t=t.previousSibling).nodeType===Node.ELEMENT_NODE&&v(t))return t;return null}f.default={parse:function(e,t){return{nodes:function e(t,n){if("none"===t)return[];if("inherit"===t){var r=y(n);return r?[r.layout]:[]}if(-1!==t.indexOf("skip")||-1!==t.indexOf("consume")){var i=d.test(t)?parseInt(t.match(d)[1],10):0,o=p.test(t)?parseInt(t.match(p)[1],10):1;if(0===i&&1===o)return e("inherit",n);if(i<0)throw new Error("You've specified a non-positive number of skips ("+i+") for the layout dependencies.");if(o<1)throw new Error("You have specified less than 1 ("+o+') for "consume" for the layout dependencies..');var a=n;do{a=y(a)}while(a&&i--);if(!a)return[];var s=[];do{s.push(a.layout),a=y(a)}while(a&&--o);return s}var l=Array.prototype.slice.call(document.querySelectorAll(t)).filter(v);if(0===l.length)throw new Error("Couldn't resolve the layout dependency \""+t+'". No flow elements found matching this selector.');return l.map(function(e){return e.layout})}(e=e.trim(),t),value:e}},stringify:function(e){return e.value}};var m={};Object.defineProperty(m,"__esModule",{value:!0});var g=/^-?[\d.+]+$/;m.default={parse:function(e){if(e=e.trim(),!g.test(e))throw new Error('The value "'+e+'" does not look like a number.');var t=parseFloat(e);if(isNaN(t))throw new Error('Could not parse "'+e+'" as a number.');return t},stringify:function(e){return""+e}};var b={};Object.defineProperty(b,"__esModule",{value:!0});var _=/^(\d+)\s*\/\s*(\d+)$/;b.default={parse:function(e){var t=(e=e.trim()).match(_);if(!t)throw new Error('The value "'+e+' does not look like a ratio. The syntax is "width / height", e.g. "1920 / 1080".');return{num:parseInt(t[1],10)/parseInt(t[2],10),value:e}},stringify:function(e){return e.value}};var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default={parse:function(e){return e.trim()},stringify:function(e){return e}};var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default={parse:function(e,t){var n=void 0;if("auto"===(e=e.trim()))n=t.getElementsByTagName("script")[0];else{var r=document.getElementById(e);if(!(r instanceof HTMLScriptElement))throw new Error('The shader "'+e+'" is not the ID of a <script> element.');n=r}if(!n)throw new Error('Could not find shader "'+e+'".');return{template:n.text,value:e}},stringify:function(e){return e.value}};var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.domtypes=void 0;var O=j(i),M=j(o),k=j(b),P=j(l),L=j(f),C=j(m),S=j(w),x=j(T);function j(e){return e&&e.__esModule?e:{default:e}}E.default={boolean:O.default,csslength:M.default,height:P.default,ratio:k.default,layoutdependencies:L.default,number:C.default,string:S.default,template:x.default},E.domtypes=["layoutdependencies"];var H={};Object.defineProperty(H,"__esModule",{value:!0});var A,D=(A=E)&&A.__esModule?A:{default:A},N=/([^:;]+):([^;]+)/g,B=/\s+/;H.default={parseProperties:function(e,t,n,r){var i={},o=void 0;for(N.lastIndex=0;null!==(o=N.exec(n));){var a=o[1].trim(),s=o[2];if(!t.hasOwnProperty(a))throw new Error('You have defined a property "'+a+'" in your attribute that is not expected. The value was "'+s+'".');i[a]=s}for(var l in t)if(t.hasOwnProperty(l)){var u=void 0;if(i.hasOwnProperty(l))u=i[l];else{if(!t[l].hasOwnProperty("default"))throw new Error('You are missing the "'+l+'" property, which has no default value.');u=t[l].default}var c=this.parseProperty(e,l,u,t[l].type,t[l].expand),h=t[l].enum;if(h instanceof Array&&-1===h.indexOf(c))throw new Error('Got "'+c+'" as value for property "'+l+'". Expected one of "'+h.join('", "')+'".');r[l]=c}},parseProperty:function(e,t,n,r,i){var o=this;if(n=n.trim(),r instanceof Array){if(1===r.length)return(r=r[0])instanceof Array?""===n?[]:n.split(",").map(function(n){return o.parseProperty(e,t,n,r,i)}):""===n?[]:n.split(",").map(function(t){return D.default[r].parse(t,e)});if(r.length>1){if(""===n)return[];var a=n.split(B);if(!(a.length===r.length||i&&i(a)))throw new Error('The schema for the "'+t+'" property expects '+r.length+" values. Got "+a.length+', namely "'+a.join(" ")+'".');for(var s={},l=0;l<a.length;l++){var u=r[l],c=Object.keys(u);if(1!==c.length)throw new Error("A nested schema should have exactly one key (the name) which maps to the type.");var h=c[0],f=a[l];s[h]=D.default[u[h]].parse(f,e)}return s}throw new Error('You have defined an empty array as schema type for the "'+t+'" property.')}return D.default[r].parse(n,e)},stringifyProperties:function(e,t,n){var r=[];for(var i in n){var o=n[i],a=t[i].type,s=this.stringifyProperty(e,o,a);r.push(i+": "+s)}return r.join("; ")+";"},stringifyProperty:function(e,t,n){var r=this;if(!(n instanceof Array))return D.default[n].stringify(t,e);if(1===n.length){var i=n[0];return i instanceof Array?t.map(function(t){return r.stringifyProperty(e,t,i)}).join(", "):t.map(function(t){return D.default[i].stringify(t,e)}).join(", ")}return n.length>1?n.map(function(e){var n=Object.keys(e)[0],r=e[n];return D.default[r].stringify(t[n])}).join(" "):void 0}};var R={};Object.defineProperty(R,"__esModule",{value:!0});var I=window.CustomEvent;"function"!=typeof I&&((I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype),R.default=I;var V={};Object.defineProperty(V,"__esModule",{value:!0});var W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=Y(r),q=Y(R),U=Y(H);function Y(e){return e&&e.__esModule?e:{default:e}}var z=!!function(){var e=void 0;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()&&{passive:!1};function G(e,t,n){return 2===arguments.length&&(n=t,"^"===(t=e).charAt(0)?(t=t.slice(1),e=this.parentEl):e=this.el),{element:e,eventName:t,callback:n}}var X=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.hasNotifiedAtLeastOnce=!1,this.el=t,this.parentEl=t.parentElement,this.props={},this._shadowChildren=[],this._observeDOMTypes(),this._proxyCSS(),this._proxyProps(),this._parseProperties(n),this.behaviorDidAttach&&this.behaviorDidAttach(),this.emit("attach")}return W(e,null,[{key:"behaviorSchema",get:function(){throw new Error('Your behavior class "'+this.constructor.name+'" needs to implement the static "behaviorSchema" getter.')}},{key:"behaviorName",get:function(){throw new Error('Your behavior class "'+this.constructor.name+'" needs to implement the static "behaviorName" getter.')}},{key:"behaviorDependencies",get:function(){throw new Error('Your behavior class "'+this.constructor.name+'" needs to implement the static "behaviorDependencies" getter.')}}]),W(e,[{key:"destructor",value:function(){if(this.behaviorWillDetach&&this.behaviorWillDetach(),this.listeners)for(var e=0;e<this.listeners.length;e++){var t=this.listeners[e];this.unlisten(t.element,t.eventName,t.callback)}var n=this._findShadowMeister();if(n){for(var r=0;r<this._shadowChildren.length;r++)n.removeChild(this._shadowChildren[r]);this._shadowChildren.length=0}this._unproxyCSS(),this.emit("detach")}},{key:"error",value:function(e){throw this.el.renderError(e),e}},{key:"notify",value:function(){this.hasNotifiedAtLeastOnce=!0,this.emit("change")}},{key:"connectTo",value:function(e,t,n){if(-1===this.constructor.behaviorDependencies.indexOf(e))throw new Error('You are trying to connect the "'+this.constructor.behaviorName+'" behavior to the "'+e+'" behavior, which is not listed as dependency.');var r=this.el;"^"===e.charAt(0)&&(e=e.slice(1),r=this.parentEl);var i=r[e],o=function(){o=t,n&&n(i),t(i)};this.listen(r,e+":change",function(){o(i)}),this.listen(this.constructor.behaviorName+":update",function(){i.hasNotifiedAtLeastOnce&&o(i)}),i.hasNotifiedAtLeastOnce&&o(i)}},{key:"listen",value:function(e,t,n){var r=this,i=G.apply(this,arguments);e=i.element,t=i.eventName,n=i.callback,-1===t.indexOf(" ")?(e.addEventListener(t,n,z),this.listeners||(this.listeners=[]),this.listeners.push({element:e,eventName:t,callback:n})):t.split(" ").map(function(e){return e.trim()}).forEach(function(t){r.listen(e,t,n)})}},{key:"listenOnce",value:function(e,t,n){var r=G.apply(this,arguments);e=r.element,t=r.eventName;var i=this;function o(){i.unlisten(e,t,o),n.apply(this,arguments)}if("function"==typeof(n=r.callback)._once)throw new Error("You cannot use the same listener for multiple events with listenOnce");n._once=o,this.listen(e,t,o)}},{key:"listenAndInvoke",value:function(e,t,n){var r=G.apply(this,arguments);e=r.element,t=r.eventName,n=r.callback,this.listen(e,t,n),n()}},{key:"unlisten",value:function(e,t,n){var r=G.apply(this,arguments);e=r.element,t=r.eventName,"function"==typeof(n=r.callback)._once&&delete(n=n._once)._once,e.removeEventListener(t,n,z)}},{key:"emit",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=this.constructor.behaviorName+":"+e;var n=new q.default(e,{bubbles:t,cancelable:!1,detail:this});this.el.dispatchEvent(n)}},{key:"_findShadowMeister",value:function(){for(var e=this.el.children.length-1;e>0;e--){var t=this.el.children[e];if("SHADOW-MEISTER"===t.tagName.toUpperCase())return t}return null}},{key:"appendChild",value:function(e){var t=this._findShadowMeister();t||(t=document.createElement("shadow-meister"),this.el.appendChild(t)),t.appendChild(e),this._shadowChildren.push(e)}},{key:"removeChild",value:function(e){var t=this._findShadowMeister();if(!t)throw new Error("You have called removeChild, but there is no shadow-meister. Did you append the element using Behavior.appendChild?");var n=this._shadowChildren.indexOf(e);-1!==n&&(t.removeChild(e),this._shadowChildren.splice(n,1))}},{key:"updateProperties",value:function(e){var t=(0,F.default)({},this.props);if("string"==typeof e)this._parseProperties(e);else for(var n in e)e.hasOwnProperty(n)&&this._parseProperty(n,e[n]);this.update&&this.update(t),this.emit("update")}},{key:"_updateProperty",value:function(e,t){var n=(0,F.default)({},this.props);this._parseProperty(e,t),this.update&&this.update(n),this.emit("update")}},{key:"_observeDOMTypes",value:function(){var e=this,t=[],n=this.constructor.behaviorSchema;for(var r in n)n.hasOwnProperty(r)&&-1!==E.domtypes.indexOf(n[r].type)&&t.push(r);t.length>0&&this.listen(document,"scrollmeister:connected scrollmeister:disconnected",function(){for(var n={},r=0;r<t.length;r++){var i=t[r];n[i]=e[i]}e.updateProperties(n)})}},{key:"_proxyCSS",value:function(){var e=this.constructor.behaviorName,t=this.el;this.style={set transform(n){""===n?t.resetBehaviorStyle(e,"transform"):t.setBehaviorStyle(e,"transform",n)},set opacity(n){""===n?t.resetBehaviorStyle(e,"opacity"):t.setBehaviorStyle(e,"opacity",n)}}}},{key:"_unproxyCSS",value:function(){var e=this.constructor.behaviorName;this.el.resetBehaviorStyles(e)}},{key:"_proxyProps",value:function(){var e=this,t=this.constructor.behaviorSchema,n=function(n){t.hasOwnProperty(n)&&Object.defineProperty(e,n,{get:function(){return U.default.stringifyProperty(this.el,this.props[n],t[n].type)},set:function(e){this._updateProperty(n,e)}})};for(var r in t)n(r)}},{key:"_parseProperties",value:function(e){var t=this.constructor.behaviorSchema;try{U.default.parseProperties(this.el,t,e,this.props)}catch(e){this.error(e)}}},{key:"_parseProperty",value:function(e,t){t=t.trim();var n=this.constructor.behaviorSchema[e],r=n.type,i=n.expand;if(""===t){if(!n.hasOwnProperty("default"))throw new Error('The "'+e+'" property does not have a default value. It cannot be unset using an empty string.');t=n.default}this.props[e]=U.default.parseProperty(this.el,e,t,r,i)}}]),e}();V.default=X;var $={};Object.defineProperty($,"__esModule",{value:!0});var K,Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Q=(K=V)&&K.__esModule?K:{default:K},J=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Q.default),Z(t,[{key:"behaviorDidAttach",value:function(){this._createElement(),this.connectTo("guides-layout",this._render.bind(this))}},{key:"_createElement",value:function(){this._guidesWrapper=document.createElement("div"),this._guidesWrapper.style.cssText="\n\t\t\tposition: fixed;\n\t\t\tleft: 0;\n\t\t\ttop: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tpointer-events: none;\n\t\t",this.appendChild(this._guidesWrapper)}},{key:"_render",value:function(e){var t=this,n=e.engine.guides.map(function(e){var n=e.width,r=.2;return 0===e.width&&(n=1,r=1),'\n\t\t\t\t<div title="'+e.name+'" style="position: absolute; top: 0; bottom: 0; background:'+t.props.color+"; left: "+e.rightPosition+"px; opacity: "+r+"; px; width: "+n+'px;"></div>\n\t\t\t'});this._guidesWrapper.innerHTML=n.join(""),this.notify()}}],[{key:"behaviorSchema",get:function(){return{color:{type:"string",default:"#0cf"}}}},{key:"behaviorName",get:function(){return"debug-guides"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();$.default=J;var ee={};Object.defineProperty(ee,"__esModule",{value:!0});var te,ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),re=(te=V)&&te.__esModule?te:{default:te},ie=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,re.default),ne(t,[{key:"behaviorDidAttach",value:function(){var e=this;this.listenOnce("guides-layout:change",function(){e.el.style.opacity=1})}},{key:"behaviorWillDetach",value:function(){this.el.style.opacity=""}}],[{key:"behaviorSchema",get:function(){return{}}},{key:"behaviorName",get:function(){return"fadein"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();ee.default=ie;var oe,ae,se,le=oe={};function ue(){throw new Error("setTimeout has not been defined")}function ce(){throw new Error("clearTimeout has not been defined")}function he(e){if(ae===setTimeout)return setTimeout(e,0);if((ae===ue||!ae)&&setTimeout)return ae=setTimeout,setTimeout(e,0);try{return ae(e,0)}catch(t){try{return ae.call(null,e,0)}catch(t){return ae.call(this,e,0)}}}!function(){try{ae="function"==typeof setTimeout?setTimeout:ue}catch(e){ae=ue}try{se="function"==typeof clearTimeout?clearTimeout:ce}catch(e){se=ce}}();var fe,de=[],pe=!1,ve=-1;function ye(){pe&&fe&&(pe=!1,fe.length?de=fe.concat(de):ve=-1,de.length&&me())}function me(){if(!pe){var e=he(ye);pe=!0;for(var t=de.length;t;){for(fe=de,de=[];++ve<t;)fe&&fe[ve].run();ve=-1,t=de.length}fe=null,pe=!1,function(e){if(se===clearTimeout)return clearTimeout(e);if((se===ce||!se)&&clearTimeout)return se=clearTimeout,clearTimeout(e);try{se(e)}catch(t){try{return se.call(null,e)}catch(t){return se.call(this,e)}}}(e)}}function ge(e,t){this.fun=e,this.array=t}function be(){}le.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];de.push(new ge(e,t)),1!==de.length||pe||he(me)},ge.prototype.run=function(){this.fun.apply(null,this.array)},le.title="browser",le.browser=!0,le.env={},le.argv=[],le.version="",le.versions={},le.on=be,le.addListener=be,le.once=be,le.off=be,le.removeListener=be,le.removeAllListeners=be,le.emit=be,le.prependListener=be,le.prependOnceListener=be,le.listeners=function(e){return[]},le.binding=function(e){throw new Error("process.binding is not supported")},le.cwd=function(){return"/"},le.chdir=function(e){throw new Error("process.chdir is not supported")},le.umask=function(){return 0};var _e={};(function(e){(function(){var t,n,r,i,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?_e=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(_e=function(){return(t()-o)/1e6},n=e.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*e.uptime(),o=i-a):Date.now?(_e=function(){return Date.now()-r},r=Date.now()):(_e=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,oe);var we={};(function(e){for(var t="undefined"==typeof window?e:window,n=["moz","webkit"],r="AnimationFrame",i=t["request"+r],o=t["cancel"+r]||t["cancelRequest"+r],a=0;!i&&a<n.length;a++)i=t[n[a]+"Request"+r],o=t[n[a]+"Cancel"+r]||t[n[a]+"CancelRequest"+r];if(!i||!o){var s=0,l=0,u=[];i=function(e){if(0===u.length){var t=_e(),n=Math.max(0,1e3/60-(t-s));s=n+t,setTimeout(function(){var e=u.slice(0);u.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(s)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return u.push({handle:++l,callback:e,cancelled:!1}),l},o=function(e){for(var t=0;t<u.length;t++)u[t].handle===e&&(u[t].cancelled=!0)}}(we=function(e){return i.call(t,e)}).cancel=function(){o.apply(t,arguments)},we.polyfill=function(e){e||(e=t),e.requestAnimationFrame=i,e.cancelAnimationFrame=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Te={};Object.defineProperty(Te,"__esModule",{value:!0});var Ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Oe=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.guides=[],this.requiredHeight=0,this.fullscreenLayout={left:0,top:0,width:0,height:0}}return Ee(e,[{key:"updateViewport",value:function(e){this.viewport=e,this.fullscreenLayout={left:0,top:0,width:e.outerWidth,height:e.outerHeight}}},{key:"lengthToPixel",value:function(e,t){switch(e.unit){case"px":return e.length;case"vw":return e.length/100*this.viewport.width;case"vh":return e.length/100*this.viewport.height;case"vmin":return e.length/100*Math.min(this.viewport.width,this.viewport.height);case"vmax":return e.length/100*Math.max(this.viewport.width,this.viewport.height);case"%":if(null==t)throw new Error("To convert percentages to pixels a reference value needs to be specified.");return t*(e.length/100);default:throw new Error('Unknown unit "'+e.unit+'" of length "'+e.length+'"')}}},{key:"calculateAnchorPosition",value:function(e,t,n){var r=e.layout,i=void 0,o=void 0;return"follow"===e.props.mode?(i=r.leaderTop,o=r.leaderHeight):(i=r.top,o=r.height),"bottom"===t?i=i-this.viewport.height+o:"center"===t&&(i=i-this.viewport.height/2+o/2),i+n}},{key:"doLayout",value:function(e,t,n){this._computeGuides(t,n);for(var r=0;r<e.length;r++)e[r].layout.dirty=!0;this.requiredHeight=0;var i=void 0;do{i=!1;var o=!1;e:for(var a=0;a<e.length;a++){var s=e[a];if(s.layout.dirty){for(var l=s.props.dependencies.nodes,u=0;u<l.length;u++)if(l[u].layout.dirty){i=!0;continue e}this._doNodeLayout(s,l),s.layout.dirty=!1,o=!0,s.layout.requiredHeight>this.requiredHeight&&(this.requiredHeight=s.layout.requiredHeight)}}if(e.length>0&&!o)throw new Error("The layout engine did a whole loop of just skipping. It seems like some dependencies cannot be resolved.")}while(i)}},{key:"doScroll",value:function(e,t,n){var r=this.viewport.height/2,i=e.height,o=n.wrapperTop,a=n.inCenter,s=n.inViewport,l=n.inExtendedViewport;e.transformTopPosition?n.contentTop=e.transformTopPosition(t):n.contentTop=e.top-t,e.clipRect?(n.wrapperTop=e.clipRect.top-t,n.wrapperHeight=e.clipRect.height):(n.wrapperTop=n.contentTop,n.wrapperHeight=i),n.wrapperBottom=Math.round(n.wrapperTop+n.wrapperHeight),n.contentBottom=Math.round(n.contentTop+i),n.wrapperTop=Math.round(n.wrapperTop),n.contentTop=Math.round(n.contentTop),n.contentTopOffset=n.contentTop-n.wrapperTop,n.inCenter=n.wrapperTop<r&&n.wrapperBottom>r,n.inExtendedViewport=n.wrapperTop<2*this.viewport.height&&n.wrapperBottom>-this.viewport.height,n.absoluteWrapperTop=n.wrapperTop,n.absoluteContentTop=n.contentTop,n.wrapperTop>=this.viewport.height?(n.wrapperTop=this.viewport.height,n.contentTop=n.wrapperTop+n.contentTopOffset,n.inViewport=!1):n.wrapperBottom<=0?(n.wrapperTop=-Math.round(n.wrapperHeight),n.contentTop=n.wrapperTop+n.contentTopOffset,n.inViewport=!1):n.inViewport=!0,n.wrapperTopChanged=n.wrapperTop!==o,n.inCenterChanged=n.inCenter!==a,n.inViewportChanged=n.inViewport!==s,n.inExtendedViewportChanged=n.inExtendedViewport!==l}},{key:"_doNodeLayout",value:function(e,t){var n=e.layout,r=e.props,i=e.intrinsicHeight,o=r.mode;if(n.spacingTop=this.lengthToPixel(r.spacing.top),n.spacingBottom=this.lengthToPixel(r.spacing.bottom),"follow"===o){for(var a=t[0],s=a,l=0;l<t.length;l++){var u=t[l];u.layout.top<a.layout.top&&(a=u),u.layout.bottom>s.layout.bottom&&(s=u)}t=[a,s],n.leaderTop=a.layout.top,n.leaderHeight=s.layout.bottom-a.layout.top}if("viewport"===r.guides.left?n.left=0:n.left=this._getGuideByName(r.guides.left).leftPosition,"viewport"===r.guides.right?n.right=this.viewport.width:n.right=this._getGuideByName(r.guides.right).rightPosition,n.width=n.right-n.left,"auto"===r.height?n.height=i:n.height=this.lengthToPixel(r.height,n.width),n.outerHeight=n.height+n.spacingTop+n.spacingBottom,"flow"===o){for(var c=0,h=0;h<t.length;h++){var f=t[h];f.layout.outerBottom>c&&(c=f.layout.outerBottom)}n.top=c+n.spacingTop}else"follow"===o&&("pin"===r.followerMode&&n.outerHeight>n.leaderHeight?n.top=t[1].layout.bottom-n.height-n.spacingBottom:n.top=t[0].layout.top+n.spacingTop);n.outerTop=n.top+n.spacingTop,n.bottom=n.height+n.top,n.outerBottom=n.bottom+n.spacingBottom,n.requiredHeight="flow"===o?n.outerBottom:0,"follow"===o&&(n.transformTopPosition=this._createFollowerTopPositionTransformer(n,r)),r.clip&&"follow"===o?(n.clipRect||(n.clipRect={top:0,bottom:0,height:0}),n.clipRect.top=t[0].layout.top,n.clipRect.bottom=t[1].layout.bottom,n.clipRect.height=n.leaderHeight):delete n.clipRect}},{key:"_createFollowerTopPositionTransformer",value:function(e,t){var n=this;if("pin"===t.followerMode){var r=void 0;switch(t.pinAnchor){case"top":r=0;break;case"center":r=(this.viewport.height-e.height)/2;break;case"bottom":r=this.viewport.height-e.height;break;default:throw new Error('Unknown pinAnchor "'+t.pinAnchor+'".')}var i=e.top-r,o=Math.abs(e.leaderHeight-e.outerHeight),a=i+o;return function(t){var n;return n=t<i?e.top-t:t<a?r:e.top-t+o,Math.round(n)}}if("parallax"===t.followerMode){var s=this.viewport.height+e.leaderHeight,l=(this.viewport.height+e.outerHeight)/s,u=e.outerTop-this.viewport.height;return function(t){var r=t-u;return n.viewport.height+e.spacingTop-r*l}}}},{key:"_computeGuides",value:function(e,t){var n=this.lengthToPixel(t,this.viewport.width);n>this.viewport.width&&(n=this.viewport.width);var r=(this.viewport.width-n)/2;this.guides.length=e.length;for(var i=0;i<e.length;i++){var o=e[i],a=this.guides[i];a||(a=this.guides[i]={}),a.name=o.name,a.width=this.lengthToPixel(o.width,n);var s=this.lengthToPixel(o.position,n);a.position=s>=0?r+s:r+n+s,a.leftPosition=a.position+a.width/2,a.rightPosition=a.position-a.width/2,a.rightPosition<0?(a.rightPosition=0,a.leftPosition=a.width,a.position=a.width/2):a.leftPosition>this.viewport.width&&(a.leftPosition=this.viewport.width,a.rightPosition=a.leftPosition-a.width,a.position=a.leftPosition-a.width/2)}}},{key:"_getGuideByName",value:function(e){for(var t=0;t<this.guides.length;t++){var n=this.guides[t];if(n.name===e)return n}throw new Error("Looks like you've used a guide called \""+e+'" without defining it.')}}]),e}();Te.default=Oe;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});var ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pe=Se(we),Le=Se(Te),Ce=Se(V);function Se(e){return e&&e.__esModule?e:{default:e}}var xe=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ce.default),ke(t,[{key:"behaviorDidAttach",value:function(){this._layoutScheduled=!1,this._initLayoutEngine()}},{key:"update",value:function(){this._scheduleLayout()}},{key:"_initLayoutEngine",value:function(){var e=this;this.engine=new Le.default,this.listenAndInvoke(window,"resize",function(){var t=e._getViewport();e.engine.updateViewport(t),e._scheduleLayout()}),this.listen("layout:attach layout:update layout:heightchange",this._scheduleLayout.bind(this))}},{key:"_getScrollbarWidth",value:function(){if(this._getScrollbarWidth.hasOwnProperty("_cache"))return this._getScrollbarWidth._cache;var e=document.documentElement;if(!e)throw new Error("There is no documentElement to get the scrollbar width of.");var t=e.style.overflowY;e.style.overflowY="scroll";var n=e.clientWidth;e.style.overflowY="hidden";var r=e.clientWidth;return e.style.overflowY=t,this._getScrollbarWidth._cache=r-n}},{key:"_getViewport",value:function(){var e=document.documentElement;if(!e)throw new Error("There is no documentElement to get the size of.");var t=e.clientWidth,n=t+this._getScrollbarWidth(),r=e.clientHeight;return{width:t,height:r,outerWidth:n,outerHeight:r}}},{key:"_scheduleLayout",value:function(){this._layoutScheduled||((0,Pe.default)(this._doLayout.bind(this)),this._layoutScheduled=!0)}},{key:"_doLayout",value:function(){this._layoutScheduled=!1;var e=Array.prototype.slice.call(this.el.querySelectorAll("[layout]")).map(function(e){return e.layout});this.engine.doLayout(e,this.props.guides,this.props.width),this.notify()}}],[{key:"behaviorSchema",get:function(){return{guides:{type:[[{name:"string"},{position:"csslength"},{width:"csslength"}]],expand:function(e){return 2===e.length&&(e.push("0"),!0)},default:""},width:{type:"csslength",default:"1280px"}}}},{key:"behaviorName",get:function(){return"guides-layout"}},{key:"behaviorDependencies",get:function(){return[]}}]),t}();Me.default=xe;var je={exports:{}};(function(e){!function(e,t){"object"==typeof je.exports?je.exports=t():e.ResizeObserver=t()}(this,function(){"use strict";var t=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},o=2,a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function s(){n&&(n=!1,e()),r&&u()}function l(){i(s)}function u(){var e=Date.now();if(n){if(e-a<o)return;r=!0}else n=!0,r=!1,setTimeout(l,t);a=e}return u}(this.refresh.bind(this),20)};l.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},l.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},l.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),a.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null;var u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},h=y(0,0,0,0);function f(e){return parseFloat(e)||0}function d(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce(function(t,n){return t+f(e["border-"+n+"-width"])},0)}var p="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return n?p(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=c(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=d(r,"left","right")+o),Math.round(l+a)!==n&&(l-=d(r,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var u=Math.round(s+o)-t,p=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(p)&&(l-=p)}return y(i.left,i.top,s,l)}(e):h}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var m=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e};m.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},m.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var g=function(e,n,r){if(this.activeObservations_=[],this.observations_=new t,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r};g.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new m(e)),this.controller_.addObserver(this),this.controller_.refresh())}},g.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},g.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},g.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},g.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new function(e,t){var n,r,i,o,a,s,l,c=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),l);u(this,{target:e,contentRect:c})}(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},g.prototype.clearActive=function(){this.activeObservations_.splice(0)},g.prototype.hasActive=function(){return this.activeObservations_.length>0};var b="undefined"!=typeof WeakMap?new WeakMap:new t,_=function(e){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=l.getInstance(),n=new g(e,t,this);b.set(this,n)};return["observe","unobserve","disconnect"].forEach(function(e){_.prototype[e]=function(){return(t=b.get(this))[e].apply(t,arguments);var t}}),void 0!==r.ResizeObserver?r.ResizeObserver:_})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),je=je.exports;var He={};Object.defineProperty(He,"__esModule",{value:!0});var Ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),De=Be(je),Ne=Be(V);function Be(e){return e&&e.__esModule?e:{default:e}}var Re=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ne.default),Ae(t,[{key:"behaviorDidAttach",value:function(){this.intrinsicHeight=0,this.scrollUpdate={},this.layout={},this._wrapContents(),this.connectTo("^guides-layout",this._render.bind(this)),this.connectTo("^scroll",this._scroll.bind(this)),this.listen("^scroll:pause",this._scrollPause.bind(this)),"auto"===this.props.height&&this._observeHeight()}},{key:"update",value:function(e){this.props.height!==e.height&&("auto"===this.props.height?this._observeHeight():"auto"===e.height&&this._unobserveHeight())}},{key:"behaviorWillDetach",value:function(){"auto"===this.props.height&&this._unobserveHeight(),this._unwrapContents()}},{key:"_wrapContents",value:function(){var e=this.el.childNodes,t=this.el.children;if(1===t.length){if(1===e.length)return this.innerEl=t[0],void(this.contentEl=this.el);for(var n=!0,r=0;r<e.length;r++){var i=e[r];if(i.nodeType===Node.TEXT_NODE&&""!==i.textContent.trim()){n=!1;break}}if(n)return this.innerEl=t[0],void(this.contentEl=this.el)}var o=document.createDocumentFragment();for(this.innerEl=document.createElement("div");e.length>0;)o.appendChild(e[0]);this.innerEl.appendChild(o),this.el.appendChild(this.innerEl),this.contentEl=this.innerEl}},{key:"_unwrapContents",value:function(){if(this.innerEl===this.contentEl){for(var e=this.innerEl.childNodes,t=document.createDocumentFragment();e.length>0;)t.appendChild(e[0]);this.el.removeChild(this.innerEl),this.el.appendChild(t)}}},{key:"_observeHeight",value:function(){var e=this;this._resizeObserver=new De.default(function(t){e.intrinsicHeight=t[0].contentRect.height,e.emit("heightchange")}),this._resizeObserver.observe(this.innerEl)}},{key:"_unobserveHeight",value:function(){this._resizeObserver.disconnect(),this._resizeObserver=null}},{key:"_render",value:function(){this._renderWrapper(),this._renderInner(),this._scroll(this.parentEl.scroll,!0),this.notify()}},{key:"_canSafelyBeUnloadedFromGPU",value:function(){return"auto"!==this.props.height}},{key:"_renderWrapper",value:function(){var e=this.el.style,t=this._canSafelyBeUnloadedFromGPU()?"none":"block",n="visible",r=this.layout.width,i=this.layout.height;this.props.clip&&(i=this.layout.clipRect.height,n="hidden"),e.display=t,e.overflow=n,e.width=Math.round(r)+"px",e.height=Math.round(i)+"px",e.contain="strict"}},{key:"_renderInner",value:function(){var e=this.innerEl.style,t=this.layout.width;e.position="relative",e.width=Math.round(t)+"px","auto"===this.props.height?e.height="auto":e.height=Math.round(this.layout.height)+"px",this.props.clip&&(e.backfaceVisibility=e.WebkitBackfaceVisibility="hidden")}},{key:"_scroll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.scrollUpdate,r=this.el.style,i=this.innerEl.style;if(this.parentEl.guidesLayout.engine.doScroll(this.layout,e.scrollState.position,n),n.wrapperTopChanged||t){var o=Math.round(this.layout.left),a=n.wrapperTop;n.inViewport&&(r.display="block",r.willChange="transform"),this.style.transform="translate("+o+"px, "+a+"px)",i.msTransform="translate(0, "+n.contentTopOffset+"px)",i.transform=i.WebkitTransform="translate3d(0px, "+n.contentTopOffset+"px, 0)"}n.inExtendedViewportChanged&&(n.inExtendedViewportChanged?this.emit("extendedviewport:enter"):this.emit("extendedviewport:leave")),n.inViewportChanged&&(n.inViewport?this.emit("viewport:enter"):this.emit("viewport:leave")),n.inCenterChanged&&(n.inCenter?this.emit("center:enter"):this.emit("center:leave"))}},{key:"_scrollPause",value:function(){var e=this.scrollUpdate,t=this.el.style;e.inExtendedViewport?(t.display="block",t.willChange="transform"):(this._canSafelyBeUnloadedFromGPU()?t.display="none":t.transform=t.WebkitTransform=t.msTransform="scale(0)",t.willChange="auto")}}],[{key:"behaviorSchema",get:function(){return{guides:{type:[{left:"string"},{right:"string"}],default:"viewport",expand:function(e){return 1===e.length&&"viewport"===e[0]&&(e.push("viewport"),!0)}},height:{type:"height",default:"auto"},spacing:{type:[{top:"csslength"},{bottom:"csslength"}],expand:function(e){return 1===e.length&&(e.push(e[0]),!0)},default:"0 0"},mode:{type:"string",enum:["flow","follow"],default:"flow"},followerMode:{type:"string",enum:["parallax","pin"],default:"parallax"},pinAnchor:{type:"string",enum:["top","center","bottom"],default:"center"},pinOffset:{type:"csslength",default:"0"},clip:{type:"boolean",default:"false"},dependencies:{type:"layoutdependencies",default:"inherit"}}}},{key:"behaviorName",get:function(){return"layout"}},{key:"behaviorDependencies",get:function(){return["^guides-layout","^scroll"]}}]),t}();He.default=Re;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});var Ve,We=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Fe=(Ve=V)&&Ve.__esModule?Ve:{default:Ve},qe=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Fe.default),We(t,[{key:"behaviorDidAttach",value:function(){this.connectTo("layout",this._render.bind(this))}},{key:"behaviorWillDetach",value:function(){var e=this.el.querySelector("img").style;e.display="",e.position="",e.left=e.top="",e.maxWidth=e.maxHeight="",e.width="",e.height="",e.transform=""}},{key:"_render",value:function(e){var t=this.calculateMediaLayout(e),n=this.el.querySelector("img").style;n.display="block",n.position="absolute",n.left=n.top=0,n.maxWidth=n.maxHeight="none",n.width=Math.round(t.width)+"px",n.height=Math.round(t.height)+"px",n.transform="translate("+Math.round(t.left)+"px, "+Math.round(t.top)+"px)",this.notify()}},{key:"_calculateMediaSize",value:function(e){var t=this.props.ratio.num,n=this.props.fit,r=e.layout,i=r.width,o=r.height,a=i/o;return"fill"!==n&&("contain"===n&&a>t||"cover"===n&&a<t?i=o*t:o=i/t),{width:i,height:o}}},{key:"calculateMediaLayout",value:function(e){var t=this.parentEl.guidesLayout.engine,n=this._calculateMediaSize(e),r=this.props.fit,i=e.layout,o=i.width,a=i.height,s=this.props.position,l=s.x,u=s.y,c=t.lengthToPixel(l,n.width),h=t.lengthToPixel(u,n.height),f=void 0,d=void 0;return"cover"===r?(f=o/2-c,d=a/2-h,f=Math.min(0,Math.max(o-n.width,f)),d=Math.min(0,Math.max(a-n.height,d))):(f=o/2-n.width/2,d=a/2-n.height/2),{width:n.width,height:n.height,left:f,top:d}}}],[{key:"behaviorSchema",get:function(){return{ratio:{type:"ratio"},fit:{type:"string",enum:["fill","cover","contain"],default:"cover"},position:{type:[{x:"csslength"},{y:"csslength"}],expand:function(e){return 1===e.length&&(e.push(e[0]),!0)},default:"50% 50%"}}}},{key:"behaviorName",get:function(){return"media"}},{key:"behaviorDependencies",get:function(){return["^guides-layout","layout"]}}]),t}();Ie.default=qe;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});var Ye,ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ge=(Ye=V)&&Ye.__esModule?Ye:{default:Ye},Xe=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ge.default),ze(t,[{key:"behaviorDidAttach",value:function(){this._render()}},{key:"update",value:function(){this._render()}},{key:"behaviorWillDetach",value:function(){this.el.style.pointerEvents=""}},{key:"_render",value:function(){this.el.style.pointerEvents="none"}}],[{key:"behaviorSchema",get:function(){return{native:{type:"string",enum:["always","fullscreen","never"],default:"fullscreen"},touch:{type:"string",enum:["always","fullscreen","never"],default:"fullscreen"}}}},{key:"behaviorName",get:function(){return"mousetrap"}},{key:"behaviorDependencies",get:function(){return["^guides-layout"]}}]),t}();Ue.default=Xe;var $e={exports:{}};!function(){var e=function(e){for(var t in this.options={animating:!0,animationDuration:250,bouncing:!0},e)this.options[t]=e[t]},t=function(e){return(e-=1)*e*e+1},n=function(e){return e<.5?4*e*e*e:4*(e-=1)*e*e+1},r=function(e){return 1===e?1:1-Math.pow(2,-10*e)},i=function(e){return(e-=1)*e*(4*e+3)+1},o={__isInteracting:!1,__isDragging:!1,__animation:null,__containerLength:0,__contentLength:0,__scrollOffset:0,__maxScrollOffset:0,__lastTouchOffset:null,__lastTouchMove:null,__positions:null,setLengths:function(e,t){e=Math.round(e),t=Math.round(t),e===this.__containerLength&&t===this.__contentLength||(this.__containerLength=e,this.__contentLength=t,this.__maxScrollOffset=Math.max(t-e,0),this.scrollTo(this.__scrollOffset,!0))},setContainerLength:function(e){this.setLengths(e,this.__contentLength)},setContentLength:function(e){this.setLengths(this.__containerLength,e)},getOffset:function(){var e,t,n=this.__animation;return n&&((e=(Date.now()-n.start)/n.duration)>=1?(this.__scrollOffset=n.from+n.distance,this.__animation=null):(e=n.easing(e),t=n.from+n.distance*e,this.options.bouncing||(t<0?(this.__animation=null,t=0):t>this.__maxScrollOffset&&(this.__animation=null,t=this.__maxScrollOffset)),this.__scrollOffset=t+.5|0)),this.__scrollOffset},getScrollMax:function(){return this.__maxScrollOffset},isResting:function(){return!this.__isInteracting&&!this.__animation},scrollTo:function(e,t){this.__animation&&(this.__animation=null),(e=Math.max(Math.min(this.__maxScrollOffset,e),0))===this.__scrollOffset&&(t=!1),this.__publish(e,t)},beginInteraction:function(e,t){this.__animation&&(this.__animation=null),this.__initialTouchOffset=e,this.__lastTouchOffset=e,this.__lastTouchMove=t,this.__isInteracting=!0,this.__isDragging=!1,this.__positions=[]},interact:function(e,t){if(this.__isInteracting){var n=this.__positions,r=this.__scrollOffset;if(this.__isDragging){var i=e-this.__lastTouchOffset,o=r-i;(o<0||o>this.__maxScrollOffset)&&(o=this.options.bouncing?r-i/3:o<0?0:this.__maxScrollOffset),n.length>60&&n.splice(0,30),o=o+.5|0,n.push(o,t),this.__publish(o)}else{var a=Math.abs(e-this.__initialTouchOffset);n.push(r,t),this.__isDragging=a>=5}this.__lastTouchOffset=e,this.__lastTouchMove=t}},endInteraction:function(e){if(this.__isInteracting&&this.__isDragging){this.__isInteracting=!1,this.__isDragging=!1;var t=this.__scrollOffset;if(t<0||t>this.__maxScrollOffset)return this.scrollTo(t,!0);if(this.options.animating){var n=this.__lastTouchMove;if(e-n<=100){for(var r=this.__positions,i=r.length-1,o=i,a=i;a>0&&!(r[a]<=n-100);a-=2)o=a;if(o!==i){var s=r[i]-r[o],l=(t-r[o-1])/s*(1e3/60);Math.abs(l)>1&&this.__startDeceleration(l)}}}this.__positions.length=0}},__publish:function(e,r){var i=!!this.__animation;if(i&&(this.__animation=null),r&&this.options.animating){var o=this.__scrollOffset,a=e-o;this.__animation={start:Date.now(),duration:this.options.animationDuration,easing:i?t:n,from:o,distance:a}}else this.__scrollOffset=e},__startDeceleration:function(e){var t=(Math.log(.1)-Math.log(Math.abs(e)))/Math.log(.95),n=t/60*1e3,o=e*((1-Math.pow(.95,t))/(1-.95)),a=this.__scrollOffset,s=a+o,l=this.__animation={start:Date.now(),duration:n,easing:r,from:this.__scrollOffset,distance:o+.5|0},u=s<0||s>this.__maxScrollOffset;this.options.bouncing&&u&&(l.distance=s<0?-a:this.__maxScrollOffset-a,l.easing=i,l.duration=l.duration/3)}};for(var a in o)e.prototype[a]=o[a];void 0!==$e.exports?$e.exports&&($e.exports=$e.exports=e):window.ScrollLogic=e}(),$e=$e.exports;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});var Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qe=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.onScroll=t,this.onPause=n,this.position=0,this.maxPosition=0,this.velocity=0,this.progress=0,this.direction="down",this.history=[]}return Ze(e,[{key:"tick",value:function(e,t){var n=void 0;this.history.push(this.position,e),this.history.length>60&&this.history.splice(0,30),this.velocity=this._calculateScrollVelocity(e),this.position!==t?(n=t>this.position?"down":"up",this.position=t,this.progress=t/this.maxPosition,this.direction!==n&&(this.direction=n,this.history.length=0),this._pauseTimer&&(clearTimeout(this._pauseTimer),delete this._pauseTimer),this.onScroll()):this._pauseTimer||(this._pauseTimer=setTimeout(this.onPause,300))}},{key:"destroy",value:function(){clearTimeout(this._pauseTimer)}},{key:"_calculateScrollVelocity",value:function(e){for(var t,n,r=this.history,i=r.length-1,o=i,a=i;a>0&&!(r[a]<=e-300);a-=2)o=a;return t=r[i]-r[o],n=r[i-1]-r[o-1],t>0&&Math.abs(n)>0?n/t:0}}]),e}();Ke.default=Qe;var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.default={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5},sqrt:function(e){return Math.sqrt(e)},outCubic:function(e){return Math.pow(e-1,3)+1},natural:function(e){return 0===e?0:Math.exp(4*(e-1))},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-Math.abs(3*Math.cos(e*t*1.028)/t)}};var et={};Object.defineProperty(et,"__esModule",{value:!0});var tt=void 0,nt=void 0,rt=void 0;et.default={start:function(e){var t=e.changedTouches[0];for(tt=t.clientX,nt=t.clientY,rt=e.target;rt.nodeType===Node.TEXT_NODE;)rt=rt.parentNode},end:function(e){var t=e.changedTouches[0],n=t.clientX,r=t.clientY,i=tt-n,o=nt-r,a=rt;if(i*i+o*o<49&&"A"===a.tagName){var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),a.dispatchEvent(s),a.focus()}}};var it={};Object.defineProperty(it,"__esModule",{value:!0}),it.default=function(e){return"TEXTAREA"===e.tagName||"INPUT"===e.tagName&&"text"===e.type};var ot={};Object.defineProperty(ot,"__esModule",{value:!0});var at=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),st=pt(we),lt=pt($e),ut=pt(Ke),ct=pt(et),ht=pt(it),ft=pt(Je),dt=pt(V);function pt(e){return e&&e.__esModule?e:{default:e}}var vt=/Android; (?:Mobile|Tablet); .+ Firefox/i.test(navigator.userAgent),yt=/Android /.test(navigator.userAgent)&&!/Chrome\/\d/.test(navigator.userAgent),mt=/iPhone|iPad|iPod/i.test(navigator.userAgent),gt=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,dt.default),at(t,[{key:"behaviorDidAttach",value:function(){this.scrollMode="touch",this._scrollAnimation=null,this._lastScrollTime=-1,this._setupScrolling(),this.connectTo("guides-layout",this._updateScrollHeight.bind(this)),(0,st.default)(this._scrollLoop.bind(this))}},{key:"behaviorWillDetach",value:function(){this.scrollState.destroy()}},{key:"update",value:function(e){e.overscroll!==this.props.overscroll&&(this._scrollLogic.options.bouncing=this.props.overscroll)}},{key:"_setupScrolling",value:function(){this.scrollState=new ut.default(this.notify.bind(this),this.emit.bind(this,"pause",!1)),this._setupMobileScrolling(),this._handleScrollModes()}},{key:"_setupMobileScrolling",value:function(){var e=this;this._scrollLogic=new lt.default({bouncing:this.props.overscroll}),this.listen(document,"touchstart",function(t){(0,ht.default)(t.target)||yt||(t.preventDefault(),ct.default.start(t)),e._mousemoveCounter=0,e._scrollLogic.beginInteraction(t.changedTouches[0].pageY,t.timeStamp)}),this.listen(document,"touchmove",function(t){t.preventDefault(),e._mousemoveCounter=0,e._scrollLogic.interact(t.changedTouches[0].pageY,t.timeStamp)}),this.listen(document,"touchend touchcancel",function(t){(0,ht.default)(t.target)||yt||(t.preventDefault(),ct.default.end(t)),e._mousemoveCounter=0,e._scrollLogic.endInteraction(t.timeStamp)})}},{key:"_handleScrollModes",value:function(){var e=this,t=function(){var t=function t(){window.removeEventListener("mousemove",r,!1),window.removeEventListener("scroll",t,!1);var i=e._scrollLogic.getOffset(),o=e._getNativeScrollPosition()-e._lastNativeScrollPosition;window.scrollTo(0,i+o),e.scrollMode="native",n()},r=function(){e._mousemoveCounter++,3===e._mousemoveCounter&&(e._mousemoveCounter=0,t())};window.addEventListener("mousemove",r,!1),window.addEventListener("scroll",t,!1)},n=function(){document.addEventListener("touchstart",function n(){document.removeEventListener("touchstart",n,!1);var r=Math.round(e._getNativeScrollPosition());e._scrollLogic.scrollTo(r),e._mousemoveCounter=0,e.scrollMode="touch",t()},!1)};this._mousemoveCounter=0,t()}},{key:"_getNativeScrollPosition",value:function(){if(!document.documentElement||!document.body)throw new Error("There is no documentElement or body to get the scroll position from.");return document.documentElement.scrollTop||document.body.scrollTop}},{key:"_updateScrollAnimation",value:function(e){var t=this._scrollAnimation;t.hasOwnProperty("startTime")||(t.startTime=e,t.endTime=e+Math.abs(t.targetPosition-t.startPosition)/3);var n=void 0;if(e>t.endTime)n=t.targetPosition,this._scrollAnimation=null;else{var r=void 0;r=1-(t.endTime-e)/(t.endTime-t.startTime),r=ft.default.outCubic(r),n=t.startPosition+(t.targetPosition-t.startPosition)*r}this.scrollTo(n)}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Math.round(e),t){var n=this.getPosition();this._scrollAnimation={startPosition:n,targetPosition:e}}else"native"===this.scrollMode?window.scrollTo(0,e):this._scrollLogic.scrollTo(e)}},{key:"_scrollLoop",value:function(e){-1===this._lastScrollTime&&(this._lastScrollTime=e),this._pollScrollPosition(e),this._lastScrollTime=e,(0,st.default)(this._scrollLoop.bind(this))}},{key:"getPosition",value:function(){return"touch"===this.scrollMode?this._scrollLogic.getOffset():this._lastNativeScrollPosition=Math.round(this._getNativeScrollPosition())}},{key:"_pollScrollPosition",value:function(e){this._scrollAnimation&&this._updateScrollAnimation(e),this.scrollState.tick(e,this.getPosition())}},{key:"_updateScrollHeight",value:function(e){var t=e.engine,n=t.requiredHeight;if(vt||yt||mt){if(!document.documentElement)throw new Error("There is no documentElement to style.");document.documentElement.style.overflow="visible",this.el.style.height=0}else this.el.style.height=Math.round(n)+"px";this._scrollLogic.setContainerLength(t.viewport.height),this._scrollLogic.setContentLength(n),this.scrollState.maxPosition=n-t.viewport.height,this.scrollTo(this.scrollState.maxPosition*this.scrollState.progress)}}],[{key:"behaviorSchema",get:function(){return{overscroll:{type:"boolean",default:"true"}}}},{key:"behaviorName",get:function(){return"scroll"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();ot.default=gt;var bt={};Object.defineProperty(bt,"__esModule",{value:!0});var _t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wt=/^[a-z-]+$/,Tt=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._closed=!1,this._behaviors={},this._order=[]}return _t(e,[{key:"add",value:function(e){var t=e.behaviorName;if(this._behaviors.hasOwnProperty(t))throw new Error('You are trying to redefine the "'+t+'" behavior.');if(!wt.test(t))throw new Error('The behavior "'+t+'" you are trying to define uses invalid characters. Behaviors can only use lower case characters and dashes.');if(this._closed)throw new Error('You are trying to define the "'+t+'" behavior too late. You need to define behaviors before DOMContentLoaded."');for(var n=e.behaviorDependencies,r=0;r<n.length;r++){var i=n[r];if("^"===i.charAt(0)&&(i=i.slice(1)),!this._behaviors.hasOwnProperty(i))throw new Error('You are trying to define a "'+t+'" behavior that depends on "'+i+'", which is not defined. Make sure to define behaviors in the correct order.')}this._behaviors[t]=e,this._order.push(t)}},{key:"has",value:function(e){return this._behaviors.hasOwnProperty(e)}},{key:"get",value:function(e){return this._behaviors[e]}},{key:"getNames",value:function(){return Object.keys(this._behaviors)}},{key:"getOrder",value:function(){return this._order.slice()}},{key:"close",value:function(){this._closed=!0}}]),e}();bt.default=Tt;var Et={};Object.defineProperty(Et,"__esModule",{value:!0});var Ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Mt=/^[a-z-]+$/,kt=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._conditions={}}return Ot(e,[{key:"add",value:function(e,t){if(this._conditions.hasOwnProperty(e))throw new Error('You are trying to redefine the "'+e+'" condition.');if(!Mt.test(e))throw new Error('The condition "'+e+'" you are trying to define uses invalid characters. Conditions can only use lower case characters and dashes.');this._conditions[e]=t}},{key:"has",value:function(e){return this._conditions.hasOwnProperty(e)}},{key:"get",value:function(e){return this._conditions[e]}},{key:"getNames",value:function(){return Object.keys(this._conditions)}}]),e}();Et.default=kt;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});var Ct=Ht(R),St=Ht(Pt),xt=Ht(bt),jt=Ht(Et);function Ht(e){return e&&e.__esModule?e:{default:e}}var At={Behavior:Ht(V).default,behaviorsRegistry:new xt.default,conditionsRegistry:new jt.default,version:"0.0.1-alpha.1",getDefinedBehaviorNames:function(){return this.behaviorsRegistry.getNames()},getBehaviorOrder:function(){return this.behaviorsRegistry.getOrder()},defineBehavior:function(e){this.behaviorsRegistry.add(e)},attachBehaviors:function(e,t){for(var n=this.getBehaviorOrder(),r=0;r<n.length;r++){var i=n[r];if(t.hasOwnProperty(i)){var o=this._checkBehaviorDependencies(e,i);if(o.length>0)throw new Error('The "'+i+'" behavior requires the "'+o.join('", "')+'" behavior(s) for. Make sure you add the attribute to the element.');this.attachBehavior(e,i,t[i])}}},attachBehavior:function(e,t,n){if(!this.behaviorsRegistry.has(t))throw new Error('Tried to attach an unknown behavior "'+t+'". This should never happen since we only track attributes that correspond to defined behaviors.');if(e.hasOwnProperty(t))e[t].updateProperties(n);else{var r=this.behaviorsRegistry.get(t);e[t]=new r(e,n),e[(0,St.default)(t)]=e[t],e.behaviors[t]=e[t]}},detachBehaviors:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getBehaviorOrder().slice().reverse(),i=0;i<r.length;i++){var o=r[i];t.hasOwnProperty(o)&&this.detachBehavior(e,o,n)}},detachBehavior:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.hasOwnProperty(t)&&(e[t].destructor(),delete e[t],delete e[(0,St.default)(t)],delete e.behaviors[t]),!n)for(var r in e.behaviors)if(e.behaviors.hasOwnProperty(r)&&this._checkBehaviorDependencies(e,r).length>0)throw new Error('You just removed the "'+t+'" behavior, which "'+r+'" requires.')},_checkBehaviorDependencies:function(e,t){for(var n=this.behaviorsRegistry.get(t),r=[],i=0;i<n.behaviorDependencies.length;i++){var o=n.behaviorDependencies[i];if("^"===o.charAt(0)){var a=o.slice(1);e.parentElement.hasOwnProperty(a)||r.push(o)}else e.hasOwnProperty(o)||r.push(o)}return r},defineCondition:function(e,t){this.conditionsRegistry.add(e,t)},getDefinedConditionNames:function(){return this.conditionsRegistry.getNames()},componentConnected:function(e){var t=new Ct.default("scrollmeister:connected",{bubbles:!1,cancelable:!1,detail:e});document.dispatchEvent(t)},componentDisconnected:function(e){var t=new Ct.default("scrollmeister:disconnected",{bubbles:!1,cancelable:!1,detail:e});document.dispatchEvent(t)}};Lt.default=At;var Dt=qt(Lt),Nt=qt(Me),Bt=qt(ot),Rt=qt($),It=qt(ee),Vt=qt(He),Wt=qt(Ie),Ft=qt(Ue);function qt(e){return e&&e.__esModule?e:{default:e}}Dt.default.defineBehavior(Nt.default),Dt.default.defineBehavior(Bt.default),Dt.default.defineBehavior(Rt.default),Dt.default.defineBehavior(It.default),Dt.default.defineBehavior(Vt.default),Dt.default.defineBehavior(Wt.default),Dt.default.defineBehavior(Ft.default);!function(e,t){"use strict";var n=e.document,r=e.Object,i=function(e){var t,n,i,o,a=/^[A-Z]+[a-z]/,s=function(e,t){(t=t.toLowerCase())in l||(l[e]=(l[e]||[]).concat(t),l[t]=l[t.toUpperCase()]=e)},l=(r.create||r)(null),u={};for(n in e)for(o in e[n])for(i=e[n][o],l[o]=i,t=0;t<i.length;t++)l[i[t].toLowerCase()]=l[i[t].toUpperCase()]=o;return u.get=function(e){return"string"==typeof e?l[e]||(a.test(e)?[]:""):function(e){var t,n=[];for(t in l)e.test(t)&&n.push(t);return n}(e)},u.set=function(e,t){return a.test(e)?s(e,t):s(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof t&&(t={type:t||"auto"});var o,a,s,l,u,c,h,f,d,p="registerElement",v="__"+p+(1e5*e.Math.random()>>0),y="addEventListener",m="attached",g="Callback",b="detached",_="extends",w="attributeChanged"+g,T=m+g,E="connected"+g,O="disconnected"+g,M="created"+g,k=b+g,P="ADDITION",L="REMOVAL",C="DOMAttrModified",S="DOMContentLoaded",x="DOMSubtreeModified",j="<",H="=",A=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,D=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],N=[],B=[],R="",V=n.documentElement,W=N.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},F=r.prototype,q=F.hasOwnProperty,U=F.isPrototypeOf,Y=r.defineProperty,z=[],G=r.getOwnPropertyDescriptor,X=r.getOwnPropertyNames,$=r.getPrototypeOf,K=r.setPrototypeOf,Z=!!r.__proto__,Q="__dreCEv1",J=e.customElements,ee=!/^force/.test(t.type)&&!!(J&&J.define&&J.get&&J.whenDefined),te=r.create||r,ne=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[W.call(t,e)]},set:function(r,i){(e=W.call(t,r))<0?n[t.push(r)-1]=i:n[e]=i}}},re=e.Promise||function(e){var t=[],n=!1,r={catch:function(){return r},then:function(e){return t.push(e),n&&setTimeout(i,1),r}};function i(e){for(n=!0;t.length;)t.shift()(e)}return e(i),r},ie=!1,oe=te(null),ae=te(null),se=new ne,le=function(e){return e.toLowerCase()},ue=r.create||function e(t){return t?(e.prototype=t,new e):this},ce=K||(Z?function(e,t){return e.__proto__=t,e}:X&&G?function(){function e(e,t){for(var n,r=X(t),i=0,o=r.length;i<o;i++)n=r[i],q.call(e,n)||Y(e,n,G(t,n))}return function(t,n){do{e(t,n)}while((n=$(n))&&!U.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),he=e.MutationObserver||e.WebKitMutationObserver,fe=(e.HTMLElement||e.Element||e.Node).prototype,de=!U.call(fe,V),pe=de?function(e,t,n){return e[t]=n.value,e}:Y,ve=de?function(e){return 1===e.nodeType}:function(e){return U.call(fe,e)},ye=de&&[],me=fe.attachShadow,ge=fe.cloneNode,be=fe.dispatchEvent,_e=fe.getAttribute,we=fe.hasAttribute,Te=fe.removeAttribute,Ee=fe.setAttribute,Oe=n.createElement,Me=Oe,ke=he&&{attributes:!0,characterData:!0,attributeOldValue:!0},Pe=he||function(e){je=!1,V.removeEventListener(C,Pe)},Le=0,Ce=p in n&&!/^force-all/.test(t.type),Se=!0,xe=!1,je=!0,He=!0,Ae=!0;function De(){var e=o.splice(0,o.length);for(Le=0;e.length;)e.shift().call(null,e.shift())}function Ne(e,t){for(var n=0,r=e.length;n<r;n++)ze(e[n],t)}function Be(e){return function(t){ve(t)&&(ze(t,e),R.length&&Ne(t.querySelectorAll(R),e))}}function Re(e){var t=_e.call(e,"is"),n=e.nodeName.toUpperCase(),r=W.call(N,t?H+t.toUpperCase():j+n);return t&&-1<r&&!Ie(n,t)?-1:r}function Ie(e,t){return-1<R.indexOf(e+'[is="'+t+'"]')}function Ve(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target,o=e[P]||2,a=e[L]||3;!Ae||i&&i!==t||!t[w]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==o&&n!==a)||t[w](r,n===o?null:e.prevValue,n===a?null:e.newValue)}function We(e){var t=Be(e);return function(e){o.push(t,e.target),Le&&clearTimeout(Le),Le=setTimeout(De,1)}}function Fe(e){He&&(He=!1,e.currentTarget.removeEventListener(S,Fe)),R.length&&Ne((e.target||n).querySelectorAll(R),e.detail===b?b:m),de&&function(){for(var e,t=0,n=ye.length;t<n;t++)e=ye[t],V.contains(e)||(n--,ye.splice(t--,1),ze(e,b))}()}function qe(e,t){Ee.call(this,e,t),a.call(this,{target:this})}function Ue(e,t){ce(e,t),u?u.observe(e,ke):(je&&(e.setAttribute=qe,e[v]=l(e),e[y](x,a)),e[y](C,Ve)),e[M]&&Ae&&(e.created=!0,e[M](),e.created=!1)}function Ye(e){throw new Error("A "+e+" type is already registered")}function ze(e,t){var n,r,i=Re(e);-1<i&&(h(e,B[i]),i=0,t!==m||e[m]?t!==b||e[b]||(e[m]=!1,e[b]=!0,r="disconnected",i=1):(e[b]=!1,e[m]=!0,r="connected",i=1,de&&W.call(ye,e)<0&&ye.push(e)),i&&(n=e[t+g]||e[r+g])&&n.call(e))}function Ge(){}function Xe(e,t,r){var i=r&&r[_]||"",o=t.prototype,a=ue(o),s=t.observedAttributes||z,l={prototype:a};pe(a,M,{value:function(){if(ie)ie=!1;else if(!this[Q]){this[Q]=!0,new t(this),o[M]&&o[M].call(this);var e=oe[se.get(t)];(!ee||e.create.length>1)&&Ze(this)}}}),pe(a,w,{value:function(e){-1<W.call(s,e)&&o[w].apply(this,arguments)}}),o[E]&&pe(a,T,{value:o[E]}),o[O]&&pe(a,k,{value:o[O]}),i&&(l[_]=i),e=e.toUpperCase(),oe[e]={constructor:t,create:i?[i,le(e)]:[e]},se.set(t,e),n[p](e.toLowerCase(),l),Qe(e),ae[e].r()}function $e(e){var t=oe[e.toUpperCase()];return t&&t.constructor}function Ke(e){return"string"==typeof e?e:e&&e.is||""}function Ze(e){for(var t,n=e[w],r=n?e.attributes:z,i=r.length;i--;)t=r[i],n.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function Qe(e){return(e=e.toUpperCase())in ae||(ae[e]={},ae[e].p=new re(function(t){ae[e].r=t})),ae[e].p}function Je(){J&&delete e.customElements,Y(e,"customElements",{configurable:!0,value:new Ge}),Y(e,"CustomElementRegistry",{configurable:!0,value:Ge});for(var t=function(t){var r=e[t];if(r){e[t]=function(e){var t,i;return e||(e=this),e[Q]||(ie=!0,t=oe[se.get(e.constructor)],(e=(i=ee&&1===t.create.length)?Reflect.construct(r,z,t.constructor):n.createElement.apply(n,t.create))[Q]=!0,ie=!1,i||Ze(e)),e},e[t].prototype=r.prototype;try{r.prototype.constructor=e[t]}catch(n){Y(r,Q,{value:e[t]})}}},r=i.get(/^HTML[A-Z]*[a-z]/),o=r.length;o--;t(r[o]));n.createElement=function(e,t){var n=Ke(t);return n?Me.call(this,e,le(n)):Me.call(this,e)},Ce||(xe=!0,n[p](""))}if(he&&((d=n.createElement("div")).innerHTML="<div><div></div></div>",new he(function(e,t){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var n=(d=G(fe,"innerHTML"))&&d.set;n&&Y(fe,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}})}t.disconnect(),d=null}).observe(d,{childList:!0,subtree:!0}),d.innerHTML=""),Ce||(K||Z?(h=function(e,t){U.call(t,e)||Ue(e,t)},f=Ue):f=h=function(e,t){e[v]||(e[v]=r(!0),Ue(e,t))},de?(je=!1,function(){var e=G(fe,y),t=e.value,n=function(e){var t=new I(C,{bubbles:!0});t.attrName=e,t.prevValue=_e.call(this,e),t.newValue=null,t[L]=t.attrChange=2,Te.call(this,e),be.call(this,t)},r=function(e,t){var n=we.call(this,e),r=n&&_e.call(this,e),i=new I(C,{bubbles:!0});Ee.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i.MODIFICATION=i.attrChange=1:i[P]=i.attrChange=0,be.call(this,i)},i=function(e){var t,n=e.currentTarget,r=n[v],i=e.propertyName;r.hasOwnProperty(i)&&(r=r[i],(t=new I(C,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[i]||null,null==t.prevValue?t[P]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,be.call(n,t))};e.value=function(e,o,a){e===C&&this[w]&&this.setAttribute!==r&&(this[v]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",i)),t.call(this,e,o,a)},Y(fe,y,e)}()):he||(V[y](C,Pe),V.setAttribute(v,1),V.removeAttribute(v),je&&(a=function(e){var t,n,r;if(this===e.target){for(r in t=this[v],this[v]=n=l(this),n){if(!(r in t))return s(0,this,r,t[r],n[r],P);if(n[r]!==t[r])return s(1,this,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return s(2,this,r,t[r],n[r],L)}},s=function(e,t,n,r,i,o){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};a[o]=e,Ve(a)},l=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;o<a;o++)"setAttribute"!==(n=(t=i[o]).name)&&(r[n]=t.value);return r})),n[p]=function(e,t){if(r=e.toUpperCase(),Se&&(Se=!1,he?(u=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new he(function(r){for(var i,o,a,s=0,l=r.length;s<l;s++)"childList"===(i=r[s]).type?(n(i.addedNodes,e),n(i.removedNodes,t)):(o=i.target,Ae&&o[w]&&"style"!==i.attributeName&&(a=_e.call(o,i.attributeName))!==i.oldValue&&o[w](i.attributeName,i.oldValue,a))})}(Be(m),Be(b)),(c=function(e){return u.observe(e,{childList:!0,subtree:!0}),e})(n),me&&(fe.attachShadow=function(){return c(me.apply(this,arguments))})):(o=[],n[y]("DOMNodeInserted",We(m)),n[y]("DOMNodeRemoved",We(b))),n[y](S,Fe),n[y]("readystatechange",Fe),fe.cloneNode=function(e){var t=ge.call(this,!!e),n=Re(t);return-1<n&&f(t,B[n]),e&&R.length&&function(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],f(t,B[Re(t)])}(t.querySelectorAll(R)),t}),xe)return xe=!1;if(-2<W.call(N,H+r)+W.call(N,j+r)&&Ye(e),!A.test(r)||-1<W.call(D,r))throw new Error("The type "+e+" is invalid");var r,i,a=function(){return l?n.createElement(h,r):n.createElement(h)},s=t||F,l=q.call(s,_),h=l?t[_].toUpperCase():r;return l&&-1<W.call(N,j+h)&&Ye(h),i=N.push((l?H:j)+r)-1,R=R.concat(R.length?",":"",l?h+'[is="'+e.toLowerCase()+'"]':h),a.prototype=B[i]=q.call(s,"prototype")?s.prototype:ue(fe),R.length&&Ne(n.querySelectorAll(R),m),a},n.createElement=Me=function(e,t){var r=Ke(t),i=r?Oe.call(n,e,le(r)):Oe.call(n,e),o=""+e,a=W.call(N,(r?H:j)+(r||o).toUpperCase()),s=-1<a;return r&&(i.setAttribute("is",r=r.toLowerCase()),s&&(s=Ie(o.toUpperCase(),r))),Ae=!n.createElement.innerHTMLHelper,s&&f(i,B[a]),i}),Ge.prototype={constructor:Ge,define:ee?function(e,t,n){if(n)Xe(e,t,n);else{var r=e.toUpperCase();oe[r]={constructor:t,create:[r]},se.set(t,r),J.define(e,t)}}:Xe,get:ee?function(e){return J.get(e)||$e(e)}:$e,whenDefined:ee?function(e){return re.race([J.whenDefined(e),Qe(e)])}:Qe},!J||/^force/.test(t.type))Je();else if(!t.noBuiltIn)try{!function(t,r,i){if(r[_]="a",(t.prototype=ue(HTMLAnchorElement.prototype)).constructor=t,e.customElements.define(i,t,r),_e.call(n.createElement("a",{is:i}),"is")!==i||ee&&_e.call(new t,"is")!==i)throw r}(function e(){return Reflect.construct(HTMLAnchorElement,[],e)},{},"document-register-element-a")}catch(e){Je()}if(!t.noBuiltIn)try{Oe.call(n,"a","a")}catch(e){le=function(e){return{is:e.toLowerCase()}}}}(window);var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});var Yt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zt=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.el=t,this.order=n,this._styles={}}return Yt(e,[{key:"setBehaviorStyle",value:function(e,t,n){this._styles.hasOwnProperty(t)||(this._styles[t]={}),this._styles[t][e]=n,this._applyBehaviorStyle(t)}},{key:"resetBehaviorStyle",value:function(e,t){this._styles.hasOwnProperty(t)&&this._styles[t].hasOwnProperty(e)&&(delete this._styles[t][e],this._applyBehaviorStyle(t))}},{key:"resetBehaviorStyles",value:function(e){for(var t in this._styles)this.resetBehaviorStyle(e,t)}},{key:"_applyBehaviorStyle",value:function(e){if("transform"!==e)if("opacity"===e){var t=1;for(var n in this._styles.opacity)this._styles.opacity.hasOwnProperty(n)&&(t*=this._styles.opacity[n]);this.el.style.opacity=t}else{var r=!1;for(var i in this._styles[e])if(this._styles[e].hasOwnProperty(i)){if(this.el.style[e]=this._styles[e][i],r)throw new Error('The "'+e+'" property was set by multiple behaviors ('+Object.keys(this._styles[e]).join(", ")+") but it cannot be merged.");r=!0}r||(this.el.style[e]="")}else{for(var o=[],a=0;a<this.order.length;a++){var s=this.order[a];this._styles.transform.hasOwnProperty(s)&&o.push(this._styles.transform[s])}o.length>0?this.el.style.transform=this.el.style.WebkitTransform=this.el.style.msTransform=o.join(" "):this.el.style.transform=""}}}]),e}();Ut.default=zt;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});var Xt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$t=Qt(we),Kt=Qt(Ut),Zt=Qt(Lt);function Qt(e){return e&&e.__esModule?e:{default:e}}function Jt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var en=[":not(scroll-meister) > element-meister","scroll-meister * element-meister","scroll-meister scroll-meister","element-meister element-meister","element-meister scroll-meister"],tn=function(e){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),e=n).init(),Jt(n,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),Xt(t,[{key:"isConnected",get:function(){return!!document.body&&document.body.contains(this)}}]),Xt(t,[{key:"init",value:function(){this.behaviors={},this._behaviorsStyleMerger=new Kt.default(this,Zt.default.getBehaviorOrder()),this._scheduledBatchUpdate=!1,this._scheduledBehaviors={attach:{},detach:{}}}},{key:"connectedCallback",value:function(){var e=this;this._scheduledBatchUpdate&&this._batchUpdateBehaviors(),Zt.default.componentConnected(this),(0,$t.default)(function(){document.querySelector(en.join(","))&&e.renderError(new Error("You have nested <scroll-meister> and <element-meister> elements in an unsupported way. <element-meister> elements need to always be direct children of <scroll-meister>."))})}},{key:"disconnectedCallback",value:function(){this.isConnected||($t.default.cancel(this._batchHandle),Zt.default.detachBehaviors(this,this.behaviors,!0),Zt.default.componentDisconnected(this))}},{key:"attributeChangedCallback",value:function(e,t,n){null===n?(this._scheduledBehaviors.detach[e]=!0,delete this._scheduledBehaviors.attach[e]):(this._scheduledBehaviors.attach[e]=n,delete this._scheduledBehaviors.detach[e]),this._scheduledBatchUpdate||(this._scheduledBatchUpdate=!0,this.isConnected&&(this._batchHandle=(0,$t.default)(this._batchUpdateBehaviors.bind(this))))}},{key:"setBehaviorStyle",value:function(e,t,n){this._behaviorsStyleMerger.setBehaviorStyle(e,t,n)}},{key:"resetBehaviorStyle",value:function(e,t){this._behaviorsStyleMerger.resetBehaviorStyle(e,t)}},{key:"resetBehaviorStyles",value:function(e){this._behaviorsStyleMerger.resetBehaviorStyles(e)}},{key:"renderError",value:function(e){}},{key:"_batchUpdateBehaviors",value:function(){this._scheduledBatchUpdate=!1,Zt.default.attachBehaviors(this,this._scheduledBehaviors.attach),this._scheduledBehaviors.attach={},Zt.default.detachBehaviors(this,this._scheduledBehaviors.detach),this._scheduledBehaviors.detach={}}}]),t}();Gt.default=tn;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});var rn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),on=sn(Lt),an=sn(Gt);function sn(e){return e&&e.__esModule?e:{default:e}}var ln=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,an.default),rn(t,null,[{key:"observedAttributes",get:function(){for(var e=on.default.getDefinedBehaviorNames(),t=on.default.getDefinedConditionNames(),n=e.slice(),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.push(i+"_"+a)}return n}}]),t}();nn.default=ln;var un={};Object.defineProperty(un,"__esModule",{value:!0});var cn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hn=dn(Lt),fn=dn(Gt);function dn(e){return e&&e.__esModule?e:{default:e}}var pn=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,fn.default),cn(t,null,[{key:"observedAttributes",get:function(){for(var e=hn.default.getDefinedBehaviorNames(),t=hn.default.getDefinedConditionNames(),n=e.slice(),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.push(i+"_"+a)}return n}}]),t}();un.default=pn;var vn=gn(Lt),yn=gn(un),mn=gn(nn);function gn(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",function(){vn.default.behaviorsRegistry.close(),customElements.define("scroll-meister",yn.default),customElements.define("element-meister",mn.default),customElements.define("shadow-meister",function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),t}())},{once:!0});var bn,_n=(bn=Lt)&&bn.__esModule?bn:{default:bn};_n.default.defineCondition("m",function(e){return e.innerWidth>=768},function(e){window.addEventListener("resize",function(){e()},!1),e()}),_n.default.defineCondition("l",function(e){return e.innerWidth>=992}),_n.default.defineCondition("xl",function(e){return e.innerWidth>=1200}),_n.default.defineCondition("s-down",function(e){return e.innerWidth<576}),_n.default.defineCondition("m-down",function(e){return e.innerWidth<768}),_n.default.defineCondition("l-down",function(e){return e.innerWidth<992}),_n.default.defineCondition("xl-down",function(e){return e.innerWidth<1200}),_n.default.defineCondition("portrait",function(e){return e.innerWidth<e.innerHeight}),_n.default.defineCondition("landscape",function(e){return e.innerWidth>=e.innerHeight}),_n.default.defineCondition("webgl",function(){return!0}),_n.default.defineCondition("websockets",function(){return"function"==typeof WebSocket}),_n.default.defineCondition("wat",["xl","portrait"],function(e,t){return e&&t});var wn;Tn="html{overflow-x:hidden;overflow-y:scroll}body{margin:0}scroll-meister{display:block;position:static;width:100%;overflow:hidden}element-meister{display:block;position:fixed;left:0;top:0;opacity:1;-webkit-backface-visibility:hidden;backface-visibility:hidden}shadow-meister{position:static !important;display:block;display:contents}\n\n/*# sourceMappingURL=scrollmeister.sass.map */",En={},On=document.head||document.getElementsByTagName("head")[0],Mn=document.createElement("style"),En=En||{},Mn.type="text/css",En.href&&Mn.setAttribute("data-href",En.href),Mn.sheet?(Mn.innerHTML=Tn,Mn.sheet.cssText=Tn):Mn.styleSheet?Mn.styleSheet.cssText=Tn:Mn.appendChild(document.createTextNode(Tn)),En.prepend?On.insertBefore(Mn,On.childNodes[0]):On.appendChild(Mn);var Tn,En,On,Mn;return((wn=Lt)&&wn.__esModule?wn:{default:wn}).default});