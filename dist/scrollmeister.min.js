/*!
 * Scrollmeister v0.0.1-alpha.2 (April 30th 2018)
 * Open-source JavaScript framework to declaratively build scrolling experiences
 * 
 * https://www.scrollmeister.com
 * 
 * @author  Alexander Prinzhorn (https://www.prinzhorn.it)
 * @license MIT
 * 
 * This bundle contains the following npm packages: document-register-element, linear-partitioning, object-assign, raf, regl, resize-observer-polyfill, scroll-logic, youtube-iframe
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Scrollmeister=e()}}(function(){var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(r,i){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(r),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))t.call(o,u)&&(s[u]=o[u]);if(e){a=e(o);for(var c=0;c<a.length;c++)n.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s},i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=["display","overflow","contain","transform","backfaceVisibility","willChange","opacity","position","left","top","right","bottom","width","height","maxWidth","minWidth","maxHeight","minHeight","transition","whiteSpace","fontSize","cursor","pointerEvents","background","backgroundImage","backgroundColor","backgroundSize","visibility"];var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default={parse:function(e){return"true"===(e=e.trim())||"on"===e||"yes"===e||"1"===e},stringify:function(e){return String(e)}};var s={};Object.defineProperty(s,"__esModule",{value:!0});var l=["px","vw","vh","vmin","vmax","%"],u=new RegExp("[\\d.]("+l.join("|")+")$");s.default={parse:function(e){if("0"===(e=e.trim()))return{length:0,unit:"px"};var t=e.match(u),n=parseFloat(e);if(!t)throw new Error('The value "'+e+'" uses a unit that is not supported by Scrollmeister. Supported units are '+l.join(", ")+".");if(isNaN(n))throw new Error('Could not parse "'+e+'" as a number.');return{length:n,unit:t[1]}},stringify:function(e){return""+e.length+e.unit}};var c={};Object.defineProperty(c,"__esModule",{value:!0});var h,f=(h=s)&&h.__esModule?h:{default:h},d=/^(\d+)\s*\/\s*(\d+)$/;c.default={parse:function(e){if("auto"===(e=e.trim()))return e;var t=e.match(d);return t?{length:parseInt(t[2],10)/parseInt(t[1],10)*100,unit:"%"}:f.default.parse(e)},stringify:function(e){return"auto"===e?e:f.default.stringify(e)}};var p={};Object.defineProperty(p,"__esModule",{value:!0});var v=/skip\s+(\d+)/,y=/consume\s+(\d+)/;function m(e){return e.hasAttribute("layout")&&"flow"===e.layout.props.mode}function g(e){for(var t=e;t.previousSibling;)if((t=t.previousSibling).nodeType===Node.ELEMENT_NODE&&m(t))return t;return null}p.default={parse:function(e,t){return{nodes:function e(t,n){if("none"===t)return[];if("inherit"===t){var r=g(n);return r?[r.layout]:[]}if(-1!==t.indexOf("skip")||-1!==t.indexOf("consume")){var i=v.test(t)?parseInt(t.match(v)[1],10):0,o=y.test(t)?parseInt(t.match(y)[1],10):1;if(0===i&&1===o)return e("inherit",n);if(i<0)throw new Error("You've specified a non-positive number of skips ("+i+") for the layout dependencies.");if(o<1)throw new Error("You have specified less than 1 ("+o+') for "consume" for the layout dependencies..');var a=n;do{a=g(a)}while(a&&i--);if(!a)return[];var s=[];do{s.push(a.layout),a=g(a)}while(a&&--o);return s}var l=Array.prototype.slice.call(document.querySelectorAll(t)).filter(m);if(0===l.length)throw new Error("Couldn't resolve the layout dependency \""+t+'". No flow elements found matching this selector.');return l.map(function(e){return e.layout})}(e=e.trim(),t),value:e}},stringify:function(e){return e.value}};var b={};Object.defineProperty(b,"__esModule",{value:!0});var _=/^-?[\d.+]+$/;b.default={parse:function(e){if(e=e.trim(),!_.test(e))throw new Error('The value "'+e+'" does not look like a number.');var t=parseFloat(e);if(isNaN(t))throw new Error('Could not parse "'+e+'" as a number.');return t},stringify:function(e){return""+e}};var w={};Object.defineProperty(w,"__esModule",{value:!0});var T=/^(\d+)\s*\/\s*(\d+)$/;w.default={parse:function(e){var t=(e=e.trim()).match(T);if(!t)throw new Error('The value "'+e+' does not look like a ratio. The syntax is "width / height", e.g. "1920 / 1080".');return{num:parseInt(t[1],10)/parseInt(t[2],10),value:e}},stringify:function(e){return e.value}};var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.default={parse:function(e){return e.trim()},stringify:function(e){return e}};var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.default={parse:function(e,t){var n=void 0;if("auto"===(e=e.trim()))n=t.getElementsByTagName("script")[0];else{var r=document.getElementById(e);if(!(r instanceof HTMLScriptElement))throw new Error('The shader "'+e+'" is not the ID of a <script> element.');n=r}if(!n)throw new Error('Could not find shader "'+e+'".');return{template:n.text,value:e}},stringify:function(e){return e.value}};var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.domtypes=void 0;var k=A(a),P=A(s),S=A(w),L=A(c),C=A(p),j=A(b),x=A(O),H=A(E);function A(e){return e&&e.__esModule?e:{default:e}}M.default={boolean:k.default,csslength:P.default,height:L.default,ratio:S.default,layoutdependencies:C.default,number:j.default,string:x.default,template:H.default},M.domtypes=["layoutdependencies"];var N={};Object.defineProperty(N,"__esModule",{value:!0});var D,B=(D=M)&&D.__esModule?D:{default:D},R=/([^:;]+):([^;]+)/g,I=/\s+/;N.default={parseProperties:function(e,t,n,r){var i={},o=void 0;for(R.lastIndex=0;null!==(o=R.exec(n));){var a=o[1].trim(),s=o[2];if(!t.hasOwnProperty(a))throw new Error('You have defined a property "'+a+'" in your attribute that is not expected. The value was "'+s+'".');i[a]=s}for(var l in t)if(t.hasOwnProperty(l)){var u=void 0;if(i.hasOwnProperty(l))u=i[l];else{if(!t[l].hasOwnProperty("default"))throw new Error('You are missing the "'+l+'" property, which has no default value.');u=t[l].default}var c=this.parseProperty(e,l,u,t[l].type,t[l].expand),h=t[l].enum;if(h instanceof Array&&-1===h.indexOf(c))throw new Error('Got "'+c+'" as value for property "'+l+'". Expected one of "'+h.join('", "')+'".');r[l]=c}},parseProperty:function(e,t,n,r,i){var o=this;if(n=n.trim(),r instanceof Array){if(1===r.length)return(r=r[0])instanceof Array?""===n?[]:n.split(",").map(function(n){return o.parseProperty(e,t,n,r,i)}):""===n?[]:n.split(",").map(function(t){return B.default[r].parse(t,e)});if(r.length>1){if(""===n)return[];var a=n.split(I);if(!(a.length===r.length||i&&i(a)))throw new Error('The schema for the "'+t+'" property expects '+r.length+" values. Got "+a.length+', namely "'+a.join(" ")+'".');for(var s={},l=0;l<a.length;l++){var u=r[l],c=Object.keys(u);if(1!==c.length)throw new Error("A nested schema should have exactly one key (the name) which maps to the type.");var h=c[0],f=a[l];s[h]=B.default[u[h]].parse(f,e)}return s}throw new Error('You have defined an empty array as schema type for the "'+t+'" property.')}return B.default[r].parse(n,e)},stringifyProperties:function(e,t,n){var r=[];for(var i in n){var o=n[i],a=t[i].type,s=this.stringifyProperty(e,o,a);r.push(i+": "+s)}return r.join("; ")+";"},stringifyProperty:function(e,t,n){var r=this;if(!(n instanceof Array))return B.default[n].stringify(t,e);if(1===n.length){var i=n[0];return i instanceof Array?t.map(function(t){return r.stringifyProperty(e,t,i)}).join(", "):t.map(function(t){return B.default[i].stringify(t,e)}).join(", ")}return n.length>1?n.map(function(e){var n=Object.keys(e)[0],r=e[n];return B.default[r].stringify(t[n])}).join(" "):void 0}};var V={};Object.defineProperty(V,"__esModule",{value:!0});var W=window.CustomEvent;"function"!=typeof W&&((W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype),V.default=W;var q={};Object.defineProperty(q,"__esModule",{value:!0});var F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),z=$(r),U=$(i),Y=$(V),G=$(o),X=$(N);function $(e){return e&&e.__esModule?e:{default:e}}var K=!!function(){var e=void 0;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()&&{passive:!1};function Z(e,t,n){return 2===arguments.length&&(n=t,"^"===(t=e).charAt(0)?(t=t.slice(1),e=this.parentEl):e=this.el),{element:e,eventName:t,callback:n}}var Q=function(){function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=this.constructor.behaviorName;t[i]=this,t[(0,U.default)(i)]=this,t.behaviors[i]=this,this.hasNotifiedAtLeastOnce=!1,this.el=t,this.contentEl=n,this.parentEl=t.parentElement,this.props={},this._shadowChildren=[],this._observeDOMTypes(),this._proxyCSS(),this._proxyProps(),this._parseProperties(r),this.behaviorDidAttach&&this.behaviorDidAttach(),this.emit("attach")}return F(e,null,[{key:"behaviorSchema",get:function(){throw new Error('Your behavior class "'+this.constructor.name+'" needs to implement the static "behaviorSchema" getter.')}},{key:"behaviorName",get:function(){throw new Error('Your behavior class "'+this.constructor.name+'" needs to implement the static "behaviorName" getter.')}},{key:"behaviorDependencies",get:function(){throw new Error('Your behavior class "'+this.constructor.name+'" needs to implement the static "behaviorDependencies" getter.')}}]),F(e,[{key:"destructor",value:function(){if(this.behaviorWillDetach&&this.behaviorWillDetach(),this.listeners)for(var e=0;e<this.listeners.length;e++){var t=this.listeners[e];this.unlisten(t.element,t.eventName,t.callback)}var n=this._findShadowMeister();if(n){for(var r=0;r<this._shadowChildren.length;r++)n.removeChild(this._shadowChildren[r]);this._shadowChildren.length=0}this._unproxyCSS(),this.emit("detach");var i=this.constructor.behaviorName;delete this.el[i],delete this.el[(0,U.default)(i)],delete this.el.behaviors[i]}},{key:"error",value:function(e){throw this.el.renderError(e),e}},{key:"notify",value:function(){this.hasNotifiedAtLeastOnce=!0,this.emit("change")}},{key:"connectTo",value:function(e,t,n){if(-1===this.constructor.behaviorDependencies.indexOf(e))throw new Error('You are trying to connect the "'+this.constructor.behaviorName+'" behavior to the "'+e+'" behavior, which is not listed as dependency.');var r=this.el;"^"===e.charAt(0)&&(e=e.slice(1),r=this.parentEl);var i=r[e],o=function(){o=t,n&&n(i),t(i)};this.listen(r,e+":change",function(){o(i)}),this.listen(this.constructor.behaviorName+":update",function(){i.hasNotifiedAtLeastOnce&&o(i)}),i.hasNotifiedAtLeastOnce&&o(i)}},{key:"listen",value:function(e,t,n){var r=this,i=Z.apply(this,arguments);e=i.element,t=i.eventName,n=i.callback,-1===t.indexOf(" ")?(e.addEventListener(t,n,K),this.listeners||(this.listeners=[]),this.listeners.push({element:e,eventName:t,callback:n})):t.split(" ").map(function(e){return e.trim()}).forEach(function(t){r.listen(e,t,n)})}},{key:"listenOnce",value:function(e,t,n){var r=Z.apply(this,arguments);e=r.element,t=r.eventName;var i=this;function o(){i.unlisten(e,t,o),n.apply(this,arguments)}if("function"==typeof(n=r.callback)._once)throw new Error("You cannot use the same listener for multiple events with listenOnce");n._once=o,this.listen(e,t,o)}},{key:"listenAndInvoke",value:function(e,t,n){var r=Z.apply(this,arguments);e=r.element,t=r.eventName,n=r.callback,this.listen(e,t,n),n()}},{key:"unlisten",value:function(e,t,n){var r=Z.apply(this,arguments);e=r.element,t=r.eventName,"function"==typeof(n=r.callback)._once&&delete(n=n._once)._once,e.removeEventListener(t,n,K)}},{key:"emit",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=this.constructor.behaviorName+":"+e;var n=new Y.default(e,{bubbles:t,cancelable:!1,detail:this});this.el.dispatchEvent(n)}},{key:"_findShadowMeister",value:function(){for(var e=this.el.children.length-1;e>0;e--){var t=this.el.children[e];if("SHADOW-MEISTER"===t.tagName.toUpperCase())return t}return null}},{key:"appendChild",value:function(e){var t=this._findShadowMeister();t||(t=document.createElement("shadow-meister"),this.el.appendChild(t)),t.appendChild(e),this._shadowChildren.push(e)}},{key:"removeChild",value:function(e){var t=this._findShadowMeister();if(!t)throw new Error("You have called removeChild, but there is no shadow-meister. Did you append the element using Behavior.appendChild?");var n=this._shadowChildren.indexOf(e);-1!==n&&(t.removeChild(e),this._shadowChildren.splice(n,1))}},{key:"updateProperties",value:function(e){var t=(0,z.default)({},this.props);if("string"==typeof e)this._parseProperties(e);else for(var n in e)e.hasOwnProperty(n)&&this._parseProperty(n,e[n]);this.update&&this.update(t),this.emit("update")}},{key:"_updateProperty",value:function(e,t){var n=(0,z.default)({},this.props);this._parseProperty(e,t),this.update&&this.update(n),this.emit("update")}},{key:"_observeDOMTypes",value:function(){var e=this,t=[],n=this.constructor.behaviorSchema;for(var r in n)n.hasOwnProperty(r)&&-1!==M.domtypes.indexOf(n[r].type)&&t.push(r);t.length>0&&this.listen(document,"scrollmeister:connected scrollmeister:disconnected",function(){for(var n={},r=0;r<t.length;r++){var i=t[r];n[i]=e[i]}e.updateProperties(n)})}},{key:"_proxyCSS",value:function(){for(var e=this.constructor.behaviorName,t=this.el,n=this.contentEl,r=this.style=Object.create(null),i=this.contentStyle=Object.create(null),o=function(o){var a=G.default[o];Object.defineProperty(r,a,{set:function(n){""===n?t.resetBehaviorStyle(e,a):t.setBehaviorStyle(e,a,n)}}),Object.defineProperty(i,a,{set:function(t){""===t?n.resetBehaviorStyle(e,a):n.setBehaviorStyle(e,a,t)}})},a=0;a<G.default.length;a++)o(a)}},{key:"_unproxyCSS",value:function(){var e=this.constructor.behaviorName;this.el.resetBehaviorStyles(e),this.contentEl&&this.contentEl.resetBehaviorStyles(e)}},{key:"_proxyProps",value:function(){var e=this,t=this.constructor.behaviorSchema,n=function(n){t.hasOwnProperty(n)&&Object.defineProperty(e,n,{get:function(){return X.default.stringifyProperty(this.el,this.props[n],t[n].type)},set:function(e){this._updateProperty(n,e)}})};for(var r in t)n(r)}},{key:"_parseProperties",value:function(e){var t=this.constructor.behaviorSchema;try{X.default.parseProperties(this.el,t,e,this.props)}catch(e){this.error(e)}}},{key:"_parseProperty",value:function(e,t){t=t.trim();var n=this.constructor.behaviorSchema[e],r=n.type,i=n.expand;if(""===t){if(!n.hasOwnProperty("default"))throw new Error('The "'+e+'" property does not have a default value. It cannot be unset using an empty string.');t=n.default}this.props[e]=X.default.parseProperty(this.el,e,t,r,i)}}]),e}();q.default=Q;var J={};Object.defineProperty(J,"__esModule",{value:!0});var ee,te=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ne=(ee=q)&&ee.__esModule?ee:{default:ee},re=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ne.default),te(t,[{key:"behaviorDidAttach",value:function(){this._createElement(),this.connectTo("guides-layout",this._render.bind(this))}},{key:"_createElement",value:function(){this._guidesWrapper=document.createElement("div"),this._guidesWrapper.style.cssText="\n\t\t\tposition: fixed;\n\t\t\tleft: 0;\n\t\t\ttop: 0;\n\t\t\tz-index: 1;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tpointer-events: none;\n\t\t",this.appendChild(this._guidesWrapper)}},{key:"_render",value:function(e){var t=this,n=e.engine.guides.map(function(e){var n=e.width,r=.2;return 0===e.width&&(n=1,r=1),'\n\t\t\t\t<div title="'+e.name+'" style="position: absolute; top: 0; bottom: 0; background:'+t.props.color+"; left: "+e.rightPosition+"px; opacity: "+r+"; px; width: "+n+'px;"></div>\n\t\t\t'});this._guidesWrapper.innerHTML=n.join(""),this.notify()}}],[{key:"behaviorSchema",get:function(){return{color:{type:"string",default:"#0cf"}}}},{key:"behaviorName",get:function(){return"debug-guides"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();J.default=re;var ie={};Object.defineProperty(ie,"__esModule",{value:!0});var oe,ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),se=(oe=q)&&oe.__esModule?oe:{default:oe},le=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,se.default),ae(t,[{key:"behaviorDidAttach",value:function(){var e=this;this.listenOnce("guides-layout:change",function(){e.style.opacity=1})}}],[{key:"behaviorSchema",get:function(){return{}}},{key:"behaviorName",get:function(){return"fadein"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();ie.default=le;var ue,ce,he,fe=ue={};function de(){throw new Error("setTimeout has not been defined")}function pe(){throw new Error("clearTimeout has not been defined")}function ve(e){if(ce===setTimeout)return setTimeout(e,0);if((ce===de||!ce)&&setTimeout)return ce=setTimeout,setTimeout(e,0);try{return ce(e,0)}catch(t){try{return ce.call(null,e,0)}catch(t){return ce.call(this,e,0)}}}!function(){try{ce="function"==typeof setTimeout?setTimeout:de}catch(e){ce=de}try{he="function"==typeof clearTimeout?clearTimeout:pe}catch(e){he=pe}}();var ye,me=[],ge=!1,be=-1;function _e(){ge&&ye&&(ge=!1,ye.length?me=ye.concat(me):be=-1,me.length&&we())}function we(){if(!ge){var e=ve(_e);ge=!0;for(var t=me.length;t;){for(ye=me,me=[];++be<t;)ye&&ye[be].run();be=-1,t=me.length}ye=null,ge=!1,function(e){if(he===clearTimeout)return clearTimeout(e);if((he===pe||!he)&&clearTimeout)return he=clearTimeout,clearTimeout(e);try{he(e)}catch(t){try{return he.call(null,e)}catch(t){return he.call(this,e)}}}(e)}}function Te(e,t){this.fun=e,this.array=t}function Oe(){}fe.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];me.push(new Te(e,t)),1!==me.length||ge||ve(we)},Te.prototype.run=function(){this.fun.apply(null,this.array)},fe.title="browser",fe.browser=!0,fe.env={},fe.argv=[],fe.version="",fe.versions={},fe.on=Oe,fe.addListener=Oe,fe.once=Oe,fe.off=Oe,fe.removeListener=Oe,fe.removeAllListeners=Oe,fe.emit=Oe,fe.prependListener=Oe,fe.prependOnceListener=Oe,fe.listeners=function(e){return[]},fe.binding=function(e){throw new Error("process.binding is not supported")},fe.cwd=function(){return"/"},fe.chdir=function(e){throw new Error("process.chdir is not supported")},fe.umask=function(){return 0};var Ee={};(function(e){(function(){var t,n,r,i,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?Ee=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(Ee=function(){return(t()-o)/1e6},n=e.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*e.uptime(),o=i-a):Date.now?(Ee=function(){return Date.now()-r},r=Date.now()):(Ee=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,ue);var Me={};(function(e){for(var t="undefined"==typeof window?e:window,n=["moz","webkit"],r="AnimationFrame",i=t["request"+r],o=t["cancel"+r]||t["cancelRequest"+r],a=0;!i&&a<n.length;a++)i=t[n[a]+"Request"+r],o=t[n[a]+"Cancel"+r]||t[n[a]+"CancelRequest"+r];if(!i||!o){var s=0,l=0,u=[];i=function(e){if(0===u.length){var t=Ee(),n=Math.max(0,1e3/60-(t-s));s=n+t,setTimeout(function(){var e=u.slice(0);u.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(s)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return u.push({handle:++l,callback:e,cancelled:!1}),l},o=function(e){for(var t=0;t<u.length;t++)u[t].handle===e&&(u[t].cancelled=!0)}}(Me=function(e){return i.call(t,e)}).cancel=function(){o.apply(t,arguments)},Me.polyfill=function(e){e||(e=t),e.requestAnimationFrame=i,e.cancelAnimationFrame=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ke={exports:{}};!function(){var e=function(e){for(var t in this.options={animating:!0,animationDuration:250,bouncing:!0},e)this.options[t]=e[t]},t=function(e){return(e-=1)*e*e+1},n=function(e){return e<.5?4*e*e*e:4*(e-=1)*e*e+1},r=function(e){return 1===e?1:1-Math.pow(2,-10*e)},i=function(e){return(e-=1)*e*(4*e+3)+1},o={__isInteracting:!1,__isDragging:!1,__animation:null,__containerLength:0,__contentLength:0,__scrollOffset:0,__maxScrollOffset:0,__lastTouchOffset:null,__lastTouchMove:null,__positions:null,setLengths:function(e,t){e=Math.round(e),t=Math.round(t),e===this.__containerLength&&t===this.__contentLength||(this.__containerLength=e,this.__contentLength=t,this.__maxScrollOffset=Math.max(t-e,0),this.scrollTo(this.__scrollOffset,!0))},setContainerLength:function(e){this.setLengths(e,this.__contentLength)},setContentLength:function(e){this.setLengths(this.__containerLength,e)},getOffset:function(){var e,t,n=this.__animation;return n&&((e=(Date.now()-n.start)/n.duration)>=1?(this.__scrollOffset=n.from+n.distance,this.__animation=null):(e=n.easing(e),t=n.from+n.distance*e,this.options.bouncing||(t<0?(this.__animation=null,t=0):t>this.__maxScrollOffset&&(this.__animation=null,t=this.__maxScrollOffset)),this.__scrollOffset=t+.5|0)),this.__scrollOffset},getScrollMax:function(){return this.__maxScrollOffset},isResting:function(){return!this.__isInteracting&&!this.__animation},scrollTo:function(e,t){this.__animation&&(this.__animation=null),(e=Math.max(Math.min(this.__maxScrollOffset,e),0))===this.__scrollOffset&&(t=!1),this.__publish(e,t)},beginInteraction:function(e,t){this.__animation&&(this.__animation=null),this.__initialTouchOffset=e,this.__lastTouchOffset=e,this.__lastTouchMove=t,this.__isInteracting=!0,this.__isDragging=!1,this.__positions=[]},interact:function(e,t){if(this.__isInteracting){var n=this.__positions,r=this.__scrollOffset;if(this.__isDragging){var i=e-this.__lastTouchOffset,o=r-i;(o<0||o>this.__maxScrollOffset)&&(o=this.options.bouncing?r-i/3:o<0?0:this.__maxScrollOffset),n.length>60&&n.splice(0,30),o=o+.5|0,n.push(o,t),this.__publish(o)}else{var a=Math.abs(e-this.__initialTouchOffset);n.push(r,t),this.__isDragging=a>=5}this.__lastTouchOffset=e,this.__lastTouchMove=t}},endInteraction:function(e){if(this.__isInteracting&&this.__isDragging){this.__isInteracting=!1,this.__isDragging=!1;var t=this.__scrollOffset;if(t<0||t>this.__maxScrollOffset)return this.scrollTo(t,!0);if(this.options.animating){var n=this.__lastTouchMove;if(e-n<=100){for(var r=this.__positions,i=r.length-1,o=i,a=i;a>0&&!(r[a]<=n-100);a-=2)o=a;if(o!==i){var s=r[i]-r[o],l=(t-r[o-1])/s*(1e3/60);Math.abs(l)>1&&this.__startDeceleration(l)}}}this.__positions.length=0}},__publish:function(e,r){var i=!!this.__animation;if(i&&(this.__animation=null),r&&this.options.animating){var o=this.__scrollOffset,a=e-o;this.__animation={start:Date.now(),duration:this.options.animationDuration,easing:i?t:n,from:o,distance:a}}else this.__scrollOffset=e},__startDeceleration:function(e){var t=(Math.log(.1)-Math.log(Math.abs(e)))/Math.log(.95),n=t/60*1e3,o=e*((1-Math.pow(.95,t))/(1-.95)),a=this.__scrollOffset,s=a+o,l=this.__animation={start:Date.now(),duration:n,easing:r,from:this.__scrollOffset,distance:o+.5|0},u=s<0||s>this.__maxScrollOffset;this.options.bouncing&&u&&(l.distance=s<0?-a:this.__maxScrollOffset-a,l.easing=i,l.duration=l.duration/3)}};for(var a in o)e.prototype[a]=o[a];void 0!==ke.exports?ke.exports&&(ke.exports=ke.exports=e):window.ScrollLogic=e}(),ke=ke.exports;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});var Se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Le=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.onScroll=t,this.onPause=n,this.position=0,this.maxPosition=0,this.velocity=0,this.progress=0,this.direction="down",this.history=[]}return Se(e,[{key:"tick",value:function(e,t){var n=void 0;this.history.push(this.position,e),this.history.length>60&&this.history.splice(0,30),this.velocity=this._calculateScrollVelocity(e),this.position!==t?(n=t>this.position?"down":"up",this.position=t,this.progress=t/this.maxPosition,this.direction!==n&&(this.direction=n,this.history.length=0),this._pauseTimer&&(clearTimeout(this._pauseTimer),delete this._pauseTimer),this.onScroll()):this._pauseTimer||(this._pauseTimer=setTimeout(this.onPause,300))}},{key:"destroy",value:function(){clearTimeout(this._pauseTimer)}},{key:"_calculateScrollVelocity",value:function(e){for(var t,n,r=this.history,i=r.length-1,o=i,a=i;a>0&&!(r[a]<=e-300);a-=2)o=a;return t=r[i]-r[o],n=r[i-1]-r[o-1],t>0&&Math.abs(n)>0?n/t:0}}]),e}();Pe.default=Le;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5},sqrt:function(e){return Math.sqrt(e)},outCubic:function(e){return Math.pow(e-1,3)+1},natural:function(e){return 0===e?0:Math.exp(4*(e-1))},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-Math.abs(3*Math.cos(e*t*1.028)/t)}};var je={};Object.defineProperty(je,"__esModule",{value:!0});var xe=void 0,He=void 0,Ae=void 0;je.default={start:function(e){var t=e.changedTouches[0];for(xe=t.clientX,He=t.clientY,Ae=e.target;Ae.nodeType===Node.TEXT_NODE;)Ae=Ae.parentNode},end:function(e){var t=e.changedTouches[0],n=t.clientX,r=t.clientY,i=xe-n,o=He-r,a=Ae;if(i*i+o*o<49){if("A"===a.tagName){var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),a.dispatchEvent(s)}a.focus()}}};var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=function(e){return"TEXTAREA"===e.tagName||"INPUT"===e.tagName&&"text"===e.type};var De={};Object.defineProperty(De,"__esModule",{value:!0});var Be=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Re=Ue(Me),Ie=Ue(ke),Ve=Ue(Pe),We=Ue(je),qe=Ue(Ne),Fe=Ue(Ce),ze=Ue(q);function Ue(e){return e&&e.__esModule?e:{default:e}}var Ye=/Android; (?:Mobile|Tablet); .+ Firefox/i.test(navigator.userAgent),Ge=/Android /.test(navigator.userAgent)&&!/Chrome\/\d/.test(navigator.userAgent),Xe=/iPhone|iPad|iPod/i.test(navigator.userAgent),$e=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ze.default),Be(t,[{key:"behaviorDidAttach",value:function(){this.scrollMode="touch",this._scrollAnimation=null,this._lastScrollTime=-1,this._setupScrolling(),this.connectTo("guides-layout",this._updateScrollHeight.bind(this)),(0,Re.default)(this._scrollLoop.bind(this))}},{key:"behaviorWillDetach",value:function(){this.scrollState.destroy()}},{key:"update",value:function(e){e.overscroll!==this.props.overscroll&&(this._scrollLogic.options.bouncing=this.props.overscroll)}},{key:"_setupScrolling",value:function(){this.scrollState=new Ve.default(this.notify.bind(this),this.emit.bind(this,"pause",!1)),this._setupMobileScrolling(),this._handleScrollModes()}},{key:"_setupMobileScrolling",value:function(){var e=this;this._scrollLogic=new Ie.default({bouncing:this.props.overscroll}),this.listen(document,"touchstart",function(t){(0,qe.default)(t.target)||Ge||(t.preventDefault(),We.default.start(t)),e._mousemoveCounter=0,e._scrollLogic.beginInteraction(t.changedTouches[0].pageY,t.timeStamp)}),this.listen(document,"touchmove",function(t){t.preventDefault(),e._mousemoveCounter=0,e._scrollLogic.interact(t.changedTouches[0].pageY,t.timeStamp)}),this.listen(document,"touchend touchcancel",function(t){(0,qe.default)(t.target)||Ge||(t.preventDefault(),We.default.end(t)),e._mousemoveCounter=0,e._scrollLogic.endInteraction(t.timeStamp)})}},{key:"_handleScrollModes",value:function(){var e=this,t=function(){var t=function t(){window.removeEventListener("mousemove",r,!1),window.removeEventListener("scroll",t,!1);var i=e._scrollLogic.getOffset(),o=e._getNativeScrollPosition()-e._lastNativeScrollPosition;window.scrollTo(0,i+o),e.scrollMode="native",n()},r=function(){e._mousemoveCounter++,3===e._mousemoveCounter&&(e._mousemoveCounter=0,t())};window.addEventListener("mousemove",r,!1),window.addEventListener("scroll",t,!1)},n=function(){document.addEventListener("touchstart",function n(){document.removeEventListener("touchstart",n,!1);var r=Math.round(e._getNativeScrollPosition());e._scrollLogic.scrollTo(r),e._mousemoveCounter=0,e.scrollMode="touch",t()},!1)};this._mousemoveCounter=0,t()}},{key:"_getNativeScrollPosition",value:function(){if(!document.documentElement||!document.body)throw new Error("There is no documentElement or body to get the scroll position from.");return document.documentElement.scrollTop||document.body.scrollTop}},{key:"_updateScrollAnimation",value:function(e){var t=this._scrollAnimation;t.hasOwnProperty("startTime")||(t.startTime=e,t.endTime=e+Math.abs(t.targetPosition-t.startPosition)/3);var n=void 0;if(e>t.endTime)n=t.targetPosition,this._scrollAnimation=null;else{var r=void 0;r=1-(t.endTime-e)/(t.endTime-t.startTime),r=Fe.default.outCubic(r),n=t.startPosition+(t.targetPosition-t.startPosition)*r}this.scrollTo(n)}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Math.round(e),t){var n=this.getPosition();this._scrollAnimation={startPosition:n,targetPosition:e}}else"native"===this.scrollMode?window.scrollTo(0,e):this._scrollLogic.scrollTo(e)}},{key:"_scrollLoop",value:function(e){-1===this._lastScrollTime&&(this._lastScrollTime=e),this._pollScrollPosition(e),this._lastScrollTime=e,(0,Re.default)(this._scrollLoop.bind(this))}},{key:"getPosition",value:function(){return"touch"===this.scrollMode?this._scrollLogic.getOffset():this._lastNativeScrollPosition=Math.round(this._getNativeScrollPosition())}},{key:"_pollScrollPosition",value:function(e){this._scrollAnimation&&this._updateScrollAnimation(e),this.scrollState.tick(e,this.getPosition())}},{key:"_updateScrollHeight",value:function(e){var t=e.engine,n=t.requiredHeight;if(Ye||Ge||Xe){if(!document.documentElement)throw new Error("There is no documentElement to style.");document.documentElement.style.overflow="visible",this.style.height=0}else this.style.height=Math.round(n)+"px";this._scrollLogic.setContainerLength(t.viewport.height),this._scrollLogic.setContentLength(n),this.scrollState.maxPosition=n-t.viewport.height,this.scrollTo(this.scrollState.maxPosition*this.scrollState.progress)}}],[{key:"behaviorSchema",get:function(){return{overscroll:{type:"boolean",default:Xe?"true":"false"}}}},{key:"behaviorName",get:function(){return"scroll"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();De.default=$e;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});var Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qe=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.guides=[],this.requiredHeight=0,this.viewport={width:0,height:0,outerWidth:0,outerHeight:0},this.fullscreenLayout={left:0,top:0,width:0,height:0}}return Ze(e,[{key:"updateViewport",value:function(e){return(e.height!==this.viewport.height||e.width!==this.viewport.width||e.outerWidth!==this.viewport.outerWidth||e.outerHeight!==this.viewport.outerHeight)&&(this.viewport=e,this.fullscreenLayout={left:0,top:0,width:e.outerWidth,height:e.outerHeight},!0)}},{key:"lengthToPixel",value:function(e,t){switch(e.unit){case"px":return e.length;case"vw":return e.length/100*this.viewport.width;case"vh":return e.length/100*this.viewport.height;case"vmin":return e.length/100*Math.min(this.viewport.width,this.viewport.height);case"vmax":return e.length/100*Math.max(this.viewport.width,this.viewport.height);case"%":if(null==t)throw new Error("To convert percentages to pixels a reference value needs to be specified.");return t*(e.length/100);default:throw new Error('Unknown unit "'+e.unit+'" of length "'+e.length+'"')}}},{key:"calculateAnchorPosition",value:function(e,t,n){var r=e.layout,i=void 0,o=void 0;return"follow"===e.props.mode?(i=r.leaderTop,o=r.leaderHeight):(i=r.top,o=r.height),"bottom"===t?i=i-this.viewport.height+o:"center"===t&&(i=i-this.viewport.height/2+o/2),Math.round(i+n)}},{key:"doLayout",value:function(e,t,n){this._computeGuides(t,n);for(var r=0;r<e.length;r++)e[r].layout.dirty=!0;this.requiredHeight=0;var i=void 0;do{i=!1;var o=!1;e:for(var a=0;a<e.length;a++){var s=e[a];if(s.layout.dirty){for(var l=s.props.dependencies.nodes,u=0;u<l.length;u++)if(l[u].layout.dirty){i=!0;continue e}this._doNodeLayout(s,l),s.layout.dirty=!1,o=!0,s.layout.requiredHeight>this.requiredHeight&&(this.requiredHeight=s.layout.requiredHeight)}}if(e.length>0&&!o)throw new Error("The layout engine did a whole loop of just skipping. It seems like some dependencies cannot be resolved.")}while(i)}},{key:"doScroll",value:function(e,t,n){var r=this.viewport.height/2,i=e.height,o=n.wrapperTop,a=n.contentTopOffset,s=n.inCenter,l=n.inViewport,u=n.inExtendedViewport;e.transformTopPosition?n.contentTop=e.transformTopPosition(t):n.contentTop=e.top-t,e.clipRect?(n.wrapperTop=e.clipRect.top-t,n.wrapperHeight=e.clipRect.height):(n.wrapperTop=n.contentTop,n.wrapperHeight=i),n.wrapperBottom=Math.round(n.wrapperTop+n.wrapperHeight),n.contentBottom=Math.round(n.contentTop+i),n.wrapperTop=Math.round(n.wrapperTop),n.contentTop=Math.round(n.contentTop),n.contentTopOffset=n.contentTop-n.wrapperTop,n.inCenter=n.wrapperTop<r&&n.wrapperBottom>r,n.inExtendedViewport=n.wrapperTop<2*this.viewport.height&&n.wrapperBottom>-this.viewport.height,n.absoluteWrapperTop=n.wrapperTop,n.absoluteContentTop=n.contentTop,n.wrapperTop>=this.viewport.height?(n.wrapperTop=this.viewport.height,n.contentTop=n.wrapperTop+n.contentTopOffset,n.inViewport=!1):n.wrapperBottom<=0?(n.wrapperTop=-Math.round(n.wrapperHeight),n.contentTop=n.wrapperTop+n.contentTopOffset,n.inViewport=!1):n.inViewport=!0,n.wrapperTopChanged=n.wrapperTop!==o,n.contentTopOffsetChanged=n.contentTopOffset!==a,n.inCenterChanged=n.inCenter!==s,n.inViewportChanged=n.inViewport!==l,n.inExtendedViewportChanged=n.inExtendedViewport!==u}},{key:"_doNodeLayout",value:function(e,t){var n=e.layout,r=e.props,i=e.intrinsicHeight,o=r.mode;if("follow"===o){for(var a=t[0],s=a,l=0;l<t.length;l++){var u=t[l];u.layout.top<a.layout.top&&(a=u),u.layout.bottom>s.layout.bottom&&(s=u)}t=[a,s],n.leaderTop=a.layout.top,n.leaderHeight=s.layout.bottom-a.layout.top}if("viewport"===r.guides.left?n.left=0:n.left=this._getGuideByName(r.guides.left).leftPosition,"viewport"===r.guides.right?n.right=this.viewport.width:n.right=this._getGuideByName(r.guides.right).rightPosition,n.width=n.right-n.left,"auto"===r.height?n.height=i:n.height=this.lengthToPixel(r.height,n.width),n.spacingTop=this.lengthToPixel(r.spacing.top,n.height),n.spacingBottom=this.lengthToPixel(r.spacing.bottom,n.height),n.outerHeight=n.height+n.spacingTop+n.spacingBottom,"flow"===o){for(var c=0,h=0;h<t.length;h++){var f=t[h];f.layout.outerBottom>c&&(c=f.layout.outerBottom)}n.top=c+n.spacingTop}else"follow"===o&&("pin"===r.followerMode&&n.outerHeight>n.leaderHeight?n.top=t[1].layout.bottom-n.height-n.spacingBottom:n.top=t[0].layout.top+n.spacingTop);n.outerTop=n.top+n.spacingTop,n.bottom=n.height+n.top,n.outerBottom=n.bottom+n.spacingBottom,n.requiredHeight="flow"===o?n.outerBottom:0,"follow"===o&&(n.transformTopPosition=this._createFollowerTopPositionTransformer(n,r)),r.clip&&"follow"===o?(n.clipRect||(n.clipRect={top:0,bottom:0,height:0}),n.clipRect.top=t[0].layout.top,n.clipRect.bottom=t[1].layout.bottom,n.clipRect.height=n.leaderHeight):delete n.clipRect}},{key:"_createFollowerTopPositionTransformer",value:function(e,t){var n=this;if("pin"===t.followerMode){var r=void 0;switch(t.pinAnchor){case"top":r=0;break;case"center":r=(this.viewport.height-e.height)/2;break;case"bottom":r=this.viewport.height-e.height;break;default:throw new Error('Unknown pinAnchor "'+t.pinAnchor+'".')}var i=e.top-r,o=Math.abs(e.leaderHeight-e.outerHeight),a=i+o;return function(t){var n;return n=t<i?e.top-t:t<a?r:e.top-t+o,Math.round(n)}}if("parallax"===t.followerMode){var s=this.viewport.height+e.leaderHeight,l=(this.viewport.height+e.outerHeight)/s,u=e.outerTop-this.viewport.height;return function(t){var r=t-u;return n.viewport.height+e.spacingTop-r*l}}}},{key:"_computeGuides",value:function(e,t){var n=this.lengthToPixel(t,this.viewport.width);n>this.viewport.width&&(n=this.viewport.width);var r=(this.viewport.width-n)/2;this.guides.length=e.length;for(var i=0;i<e.length;i++){var o=e[i],a=this.guides[i];a||(a=this.guides[i]={}),a.name=o.name,a.width=this.lengthToPixel(o.width,n);var s=this.lengthToPixel(o.position,n);a.position=s>=0?r+s:r+n+s,a.leftPosition=a.position+a.width/2,a.rightPosition=a.position-a.width/2,a.rightPosition<0?(a.rightPosition=0,a.leftPosition=a.width,a.position=a.width/2):a.leftPosition>this.viewport.width&&(a.leftPosition=this.viewport.width,a.rightPosition=a.leftPosition-a.width,a.position=a.leftPosition-a.width/2)}}},{key:"_getGuideByName",value:function(e){for(var t=0;t<this.guides.length;t++){var n=this.guides[t];if(n.name===e)return n}throw new Error("Looks like you've used a guide called \""+e+'" without defining it.')}}]),e}();Ke.default=Qe;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});var et=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tt=it(Me),nt=it(Ke),rt=it(q);function it(e){return e&&e.__esModule?e:{default:e}}var ot=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,rt.default),et(t,[{key:"behaviorDidAttach",value:function(){this._layoutScheduled=!1,this._initLayoutEngine()}},{key:"update",value:function(){this._scheduleLayout()}},{key:"_initLayoutEngine",value:function(){var e=this;this.engine=new nt.default,this.listenAndInvoke(window,"resize",function(){var t=e._getViewport();e.engine.updateViewport(t)&&e._scheduleLayout()}),this.listen("layout:attach layout:update layout:heightchange",this._scheduleLayout.bind(this))}},{key:"_getScrollbarWidth",value:function(){if(this._getScrollbarWidth.hasOwnProperty("_cache"))return this._getScrollbarWidth._cache;var e=document.documentElement;if(!e)throw new Error("There is no documentElement to get the scrollbar width of.");var t=e.style.overflowY;e.style.overflowY="scroll";var n=e.clientWidth;e.style.overflowY="hidden";var r=e.clientWidth;return e.style.overflowY=t,this._getScrollbarWidth._cache=r-n}},{key:"_getViewport",value:function(){this._viewportSizeElement||(this._viewportSizeElement=document.createElement("div"),this._viewportSizeElement.style.cssText="\n\t\t\t\twidth: 100vw;\n\t\t\t\theight: 100vh;\n\t\t\t\tposition: fixed;\n\t\t\t\tleft: -100vw;\n\t\t\t\ttop: -100vh;\n\t\t\t\tpointer-events: none;\n\t\t\t\tvisibility: hidden;\n\t\t\t\topacity: 0;\n\t\t\t\tz-index: -1;",this.appendChild(this._viewportSizeElement));var e=this._viewportSizeElement.getBoundingClientRect(),t=e.width,n=t-this._getScrollbarWidth(),r=e.height;return{width:n,height:r,outerWidth:t,outerHeight:r}}},{key:"_scheduleLayout",value:function(){this._layoutScheduled||((0,tt.default)(this._doLayout.bind(this)),this._layoutScheduled=!0)}},{key:"_doLayout",value:function(){this._layoutScheduled=!1;var e=Array.prototype.slice.call(this.el.querySelectorAll("[layout]")).map(function(e){return e.layout});this.engine.doLayout(e,this.props.guides,this.props.width),this.notify()}}],[{key:"behaviorSchema",get:function(){return{guides:{type:[[{name:"string"},{position:"csslength"},{width:"csslength"}]],expand:function(e){return 2===e.length&&(e.push("0"),!0)},default:""},width:{type:"csslength",default:"1280px"}}}},{key:"behaviorName",get:function(){return"guides-layout"}},{key:"behaviorDependencies",get:function(){return[]}}]),t}();Je.default=ot;var at={exports:{}};(function(e){!function(e,t){"object"==typeof at.exports?at.exports=t():e.ResizeObserver=t()}(this,function(){"use strict";var t=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},o=2,a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function s(){n&&(n=!1,e()),r&&u()}function l(){i(s)}function u(){var e=Date.now();if(n){if(e-a<o)return;r=!0}else n=!0,r=!1,setTimeout(l,t);a=e}return u}(this.refresh.bind(this),20)};l.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},l.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},l.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),a.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null;var u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},h=y(0,0,0,0);function f(e){return parseFloat(e)||0}function d(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce(function(t,n){return t+f(e["border-"+n+"-width"])},0)}var p="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return n?p(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=c(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=d(r,"left","right")+o),Math.round(l+a)!==n&&(l-=d(r,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var u=Math.round(s+o)-t,p=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(p)&&(l-=p)}return y(i.left,i.top,s,l)}(e):h}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var m=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e};m.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},m.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var g=function(e,n,r){if(this.activeObservations_=[],this.observations_=new t,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r};g.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new m(e)),this.controller_.addObserver(this),this.controller_.refresh())}},g.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},g.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},g.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},g.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new function(e,t){var n,r,i,o,a,s,l,c=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),l);u(this,{target:e,contentRect:c})}(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},g.prototype.clearActive=function(){this.activeObservations_.splice(0)},g.prototype.hasActive=function(){return this.activeObservations_.length>0};var b="undefined"!=typeof WeakMap?new WeakMap:new t,_=function(e){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=l.getInstance(),n=new g(e,t,this);b.set(this,n)};return["observe","unobserve","disconnect"].forEach(function(e){_.prototype[e]=function(){return(t=b.get(this))[e].apply(t,arguments);var t}}),void 0!==r.ResizeObserver?r.ResizeObserver:_})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),at=at.exports;var st={};Object.defineProperty(st,"__esModule",{value:!0});var lt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ut=ht(at),ct=ht(q);function ht(e){return e&&e.__esModule?e:{default:e}}var ft=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ct.default),lt(t,[{key:"behaviorDidAttach",value:function(){this.intrinsicHeight=0,this.scrollUpdate={contentTopOffset:0},this.layout={},this.connectTo("^guides-layout",this._render.bind(this)),this.connectTo("^scroll",this._scroll.bind(this)),"auto"===this.props.height&&this._observeHeight()}},{key:"update",value:function(e){this.props.height!==e.height&&("auto"===this.props.height?this._observeHeight():"auto"===e.height&&this._unobserveHeight())}},{key:"behaviorWillDetach",value:function(){"auto"===this.props.height&&this._unobserveHeight()}},{key:"_observeHeight",value:function(){var e=this;this._resizeObserver=new ut.default(function(t){e.intrinsicHeight=t[0].contentRect.height,e.emit("heightchange")}),this._resizeObserver.observe(this.contentEl)}},{key:"_unobserveHeight",value:function(){this._resizeObserver.disconnect(),this._resizeObserver=null}},{key:"_render",value:function(){this._renderWrapper(),this._renderContent(),this._scroll(this.parentEl.scroll,!0),this.notify()}},{key:"_canSafelyBeUnloadedFromGPU",value:function(){return"auto"!==this.props.height}},{key:"_renderWrapper",value:function(){var e="visible",t=this.layout.width,n=this.layout.height;this.props.clip&&(e="hidden",n=this.layout.clipRect.height),this.props.hidden?(this.style.left="500vw",this.style.top="500vh",this.style.visibility="hidden",e="hidden"):(this.style.left="",this.style.top="",this.style.visibility=""),this.style.overflow=e,this.style.width=Math.round(t)+"px",this.style.height=Math.round(n)+"px"}},{key:"_renderContent",value:function(){this.contentStyle.position="relative",this.contentStyle.width=Math.round(this.layout.width)+"px","auto"===this.props.height?this.contentStyle.height="":this.contentStyle.height=Math.round(this.layout.height)+"px"}},{key:"_scroll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.scrollUpdate;if(this.parentEl.guidesLayout.engine.doScroll(this.layout,e.scrollState.position,n),this.props.hidden)this.style.willChange="",this.style.backfaceVisibility="",this.style.perspective="",this.style.transform="";else{if(n.wrapperTopChanged||t){var r=Math.round(this.layout.left),i=n.wrapperTop;this.style.willChange="transform",this.style.backfaceVisibility="hidden",this.style.perspective="1000",this.style.transform="translate("+r+"px, "+i+"px)"}n.contentTopOffsetChanged&&(this.contentStyle.willChange="transform",this.contentStyle.backfaceVisibility="hidden",this.contentStyle.perspective="1000",this.contentStyle.transform="translate(0, "+n.contentTopOffset+"px)")}n.inExtendedViewportChanged&&(n.inExtendedViewportChanged?this.emit("extendedviewport:enter"):this.emit("extendedviewport:leave")),n.inViewportChanged&&(n.inViewport?this.emit("viewport:enter"):this.emit("viewport:leave")),n.inCenterChanged&&(n.inCenter?this.emit("center:enter"):this.emit("center:leave"))}}],[{key:"behaviorSchema",get:function(){return{guides:{type:[{left:"string"},{right:"string"}],default:"viewport",expand:function(e){return 1===e.length&&"viewport"===e[0]&&(e.push("viewport"),!0)}},height:{type:"height",default:"auto"},spacing:{type:[{top:"csslength"},{bottom:"csslength"}],expand:function(e){return 1===e.length&&(e.push(e[0]),!0)},default:"0 0"},mode:{type:"string",enum:["flow","follow"],default:"flow"},followerMode:{type:"string",enum:["parallax","pin"],default:"parallax"},pinAnchor:{type:"string",enum:["top","center","bottom"],default:"center"},pinOffset:{type:"csslength",default:"0"},clip:{type:"boolean",default:"false"},dependencies:{type:"layoutdependencies",default:"inherit"},hidden:{type:"boolean",default:"false"}}}},{key:"behaviorName",get:function(){return"layout"}},{key:"behaviorDependencies",get:function(){return["^guides-layout","^scroll"]}}]),t}();st.default=ft;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});var pt,vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),yt=(pt=q)&&pt.__esModule?pt:{default:pt},mt=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,yt.default),vt(t,[{key:"behaviorDidAttach",value:function(){this.connectTo("layout",this._render.bind(this))}},{key:"behaviorWillDetach",value:function(){var e=this.el.querySelector("img, video").style;e.display="",e.position="",e.left=e.top="",e.maxWidth=e.maxHeight="",e.width="",e.height="",e.transform=""}},{key:"_render",value:function(e){var t=this.calculateMediaLayout(e),n=this.el.querySelector("img, video").style;n.display="block",n.position="absolute",n.left=n.top=0,n.maxWidth=n.maxHeight="none",n.width=Math.round(t.width)+"px",n.height=Math.round(t.height)+"px",n.transform="translate("+Math.round(t.left)+"px, "+Math.round(t.top)+"px)",this.notify()}},{key:"_calculateMediaSize",value:function(e){var t=this.props.ratio.num,n=this.props.fit,r=e.layout,i=r.width,o=r.height,a=i/o;return"fill"!==n&&("contain"===n&&a>t||"cover"===n&&a<t?i=o*t:o=i/t),{width:i,height:o}}},{key:"calculateMediaLayout",value:function(e){var t=this.parentEl.guidesLayout.engine,n=this._calculateMediaSize(e),r=this.props.fit,i=e.layout,o=i.width,a=i.height,s=this.props.position,l=s.x,u=s.y,c=t.lengthToPixel(l,n.width),h=t.lengthToPixel(u,n.height),f=void 0,d=void 0;return"cover"===r?(f=o/2-c,d=a/2-h,f=Math.min(0,Math.max(o-n.width,f)),d=Math.min(0,Math.max(a-n.height,d))):(f=o/2-n.width/2,d=a/2-n.height/2),{width:n.width,height:n.height,left:f,top:d}}}],[{key:"behaviorSchema",get:function(){return{ratio:{type:"ratio"},fit:{type:"string",enum:["fill","cover","contain"],default:"cover"},position:{type:[{x:"csslength"},{y:"csslength"}],expand:function(e){return 1===e.length&&(e.push(e[0]),!0)},default:"50% 50%"}}}},{key:"behaviorName",get:function(){return"media"}},{key:"behaviorDependencies",get:function(){return["^guides-layout","layout"]}}]),t}();dt.default=mt;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});var bt,_t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wt=(bt=q)&&bt.__esModule?bt:{default:bt},Tt=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,wt.default),_t(t,[{key:"behaviorDidAttach",value:function(){this._render()}},{key:"update",value:function(){this._render()}},{key:"_render",value:function(){this.style.pointerEvents="none"}}],[{key:"behaviorSchema",get:function(){return{native:{type:"string",enum:["always","fullscreen","never"],default:"fullscreen"},touch:{type:"string",enum:["always","fullscreen","never"],default:"fullscreen"}}}},{key:"behaviorName",get:function(){return"mousetrap"}},{key:"behaviorDependencies",get:function(){return["^guides-layout"]}}]),t}();gt.default=Tt;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});var Et=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Mt=Lt(Me),kt=Lt(Pe),Pt=Lt(Ce),St=Lt(q);function Lt(e){return e&&e.__esModule?e:{default:e}}var Ct=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,St.default),Et(t,[{key:"behaviorDidAttach",value:function(){this._scrollAnimation=null,this._lastScrollTime=-1,this.scrollState=new kt.default(this.notify.bind(this),this.emit.bind(this,"pause",!1)),this.connectTo("guides-layout",this._updateScrollHeight.bind(this)),(0,Mt.default)(this._scrollLoop.bind(this))}},{key:"behaviorWillDetach",value:function(){this.scrollState.destroy()}},{key:"_updateScrollAnimation",value:function(e){var t=this._scrollAnimation;t.hasOwnProperty("startTime")||(t.startTime=e,t.endTime=e+Math.abs(t.targetPosition-t.startPosition)/3);var n=void 0;if(e>t.endTime)n=t.targetPosition,this._scrollAnimation=null;else{var r=void 0;r=1-(t.endTime-e)/(t.endTime-t.startTime),r=Pt.default.outCubic(r),n=t.startPosition+(t.targetPosition-t.startPosition)*r}this.scrollTo(n)}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Math.round(e),t){var n=this.getPosition();this._scrollAnimation={startPosition:n,targetPosition:e}}else window.scrollTo(0,e)}},{key:"_scrollLoop",value:function(e){-1===this._lastScrollTime&&(this._lastScrollTime=e),this._pollScrollPosition(e),this._lastScrollTime=e,(0,Mt.default)(this._scrollLoop.bind(this))}},{key:"getPosition",value:function(){if(!document.documentElement||!document.body)throw new Error("There is no documentElement or body to get the scroll position from.");return document.documentElement.scrollTop||document.body.scrollTop}},{key:"_pollScrollPosition",value:function(e){this._scrollAnimation&&this._updateScrollAnimation(e),this.scrollState.tick(e,this.getPosition())}},{key:"_updateScrollHeight",value:function(e){var t=e.engine,n=t.requiredHeight;this.style.height=Math.round(n)+"px",this.scrollState.maxPosition=n-t.viewport.height,this.scrollTo(this.scrollState.maxPosition*this.scrollState.progress)}}],[{key:"behaviorSchema",get:function(){return{}}},{key:"behaviorName",get:function(){return"real-scroll"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();Ot.default=Ct;var jt={};Object.defineProperty(jt,"__esModule",{value:!0});var xt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ht=/^[a-z-]+$/,At=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._closed=!1,this._behaviors={},this._order=[]}return xt(e,[{key:"add",value:function(e){var t=e.behaviorName;if(this._behaviors.hasOwnProperty(t))throw new Error('You are trying to redefine the "'+t+'" behavior.');if(!Ht.test(t))throw new Error('The behavior "'+t+'" you are trying to define uses invalid characters. Behaviors can only use lower case characters and dashes.');if(this._closed)throw new Error('You are trying to define the "'+t+'" behavior too late. You need to define behaviors before DOMContentLoaded."');for(var n=e.behaviorDependencies,r=0;r<n.length;r++){var i=n[r];if("^"===i.charAt(0)&&(i=i.slice(1)),!this._behaviors.hasOwnProperty(i))throw new Error('You are trying to define a "'+t+'" behavior that depends on "'+i+'", which is not defined. Make sure to define behaviors in the correct order.')}this._behaviors[t]=e,this._order.push(t)}},{key:"has",value:function(e){return this._behaviors.hasOwnProperty(e)}},{key:"get",value:function(e){return this._behaviors[e]}},{key:"getNames",value:function(){return Object.keys(this._behaviors)}},{key:"getOrder",value:function(){return this._order.slice()}},{key:"close",value:function(){this._closed=!0}}]),e}();jt.default=At;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});var Dt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bt=/^[a-z-]+$/,Rt=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._conditions={}}return Dt(e,[{key:"add",value:function(e,t){if(this._conditions.hasOwnProperty(e))throw new Error('You are trying to redefine the "'+e+'" condition.');if(!Bt.test(e))throw new Error('The condition "'+e+'" you are trying to define uses invalid characters. Conditions can only use lower case characters and dashes.');this._conditions[e]=t}},{key:"has",value:function(e){return this._conditions.hasOwnProperty(e)}},{key:"get",value:function(e){return this._conditions[e]}},{key:"getNames",value:function(){return Object.keys(this._conditions)}}]),e}();Nt.default=Rt;var It={};Object.defineProperty(It,"__esModule",{value:!0});var Vt=Ft(V),Wt=Ft(jt),qt=Ft(Nt);function Ft(e){return e&&e.__esModule?e:{default:e}}var zt={Behavior:Ft(q).default,behaviorsRegistry:new Wt.default,conditionsRegistry:new qt.default,version:"0.0.1-alpha.2",getDefinedBehaviorNames:function(){return this.behaviorsRegistry.getNames()},getBehaviorOrder:function(){return this.behaviorsRegistry.getOrder()},defineBehavior:function(e){this.behaviorsRegistry.add(e)},attachBehaviors:function(e,t){for(var n=this.getBehaviorOrder(),r=0;r<n.length;r++){var i=n[r];if(t.hasOwnProperty(i)){var o=this._checkBehaviorDependencies(e,i);if(o.length>0)throw new Error('The "'+i+'" behavior requires the "'+o.join('", "')+'" behavior(s) for. Make sure you add the attribute to the element.');this.attachBehavior(e,i,t[i])}}},attachBehavior:function(e,t,n){if(!this.behaviorsRegistry.has(t))throw new Error('Tried to attach an unknown behavior "'+t+'". This should never happen since we only track attributes that correspond to defined behaviors.');e.hasOwnProperty(t)?e[t].updateProperties(n):new(this.behaviorsRegistry.get(t))(e,this.wrapContents(e),n)},detachBehaviors:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getBehaviorOrder().slice().reverse(),i=0;i<r.length;i++){var o=r[i];t.hasOwnProperty(o)&&this.detachBehavior(e,o,n)}},detachBehavior:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.hasOwnProperty(t)&&e[t].destructor(),!n)for(var r in e.behaviors)if(e.behaviors.hasOwnProperty(r)&&this._checkBehaviorDependencies(e,r).length>0)throw new Error('You just removed the "'+t+'" behavior, which "'+r+'" requires.')},_checkBehaviorDependencies:function(e,t){for(var n=this.behaviorsRegistry.get(t),r=[],i=0;i<n.behaviorDependencies.length;i++){var o=n.behaviorDependencies[i];if("^"===o.charAt(0)){var a=o.slice(1);e.parentElement.hasOwnProperty(a)||r.push(o)}else e.hasOwnProperty(o)||r.push(o)}return r},defineCondition:function(e,t){this.conditionsRegistry.add(e,t)},getDefinedConditionNames:function(){return this.conditionsRegistry.getNames()},componentConnected:function(e){var t=new Vt.default("scrollmeister:connected",{bubbles:!1,cancelable:!1,detail:e});document.dispatchEvent(t)},componentDisconnected:function(e){var t=new Vt.default("scrollmeister:disconnected",{bubbles:!1,cancelable:!1,detail:e});document.dispatchEvent(t)},wrapContents:function(e){if("element-meister"!==e.tagName.toLowerCase())return null;var t=e.querySelector("content-meister");if(t)return t;t=document.createElement("content-meister");for(var n=e.childNodes,r=document.createDocumentFragment();n.length>0;)r.appendChild(n[0]);return t.appendChild(r),e.appendChild(t),t}};It.default=zt;var Ut=en(It),Yt=en(Je),Gt=en(Ot),Xt=en(De),$t=en(J),Kt=en(ie),Zt=en(st),Qt=en(dt),Jt=en(gt);function en(e){return e&&e.__esModule?e:{default:e}}Ut.default.defineBehavior(Yt.default),Ut.default.defineBehavior(Gt.default),Ut.default.defineBehavior(Xt.default),Ut.default.defineBehavior($t.default),Ut.default.defineBehavior(Kt.default),Ut.default.defineBehavior(Zt.default),Ut.default.defineBehavior(Qt.default),Ut.default.defineBehavior(Jt.default);!function(e,t){"use strict";var n=e.document,r=e.Object,i=function(e){var t,n,i,o,a=/^[A-Z]+[a-z]/,s=function(e,t){(t=t.toLowerCase())in l||(l[e]=(l[e]||[]).concat(t),l[t]=l[t.toUpperCase()]=e)},l=(r.create||r)(null),u={};for(n in e)for(o in e[n])for(i=e[n][o],l[o]=i,t=0;t<i.length;t++)l[i[t].toLowerCase()]=l[i[t].toUpperCase()]=o;return u.get=function(e){return"string"==typeof e?l[e]||(a.test(e)?[]:""):function(e){var t,n=[];for(t in l)e.test(t)&&n.push(t);return n}(e)},u.set=function(e,t){return a.test(e)?s(e,t):s(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof t&&(t={type:t||"auto"});var o,a,s,l,u,c,h,f,d,p="registerElement",v="__"+p+(1e5*e.Math.random()>>0),y="addEventListener",m="attached",g="Callback",b="detached",_="extends",w="attributeChanged"+g,T=m+g,O="connected"+g,E="disconnected"+g,M="created"+g,k=b+g,P="ADDITION",S="REMOVAL",L="DOMAttrModified",C="DOMContentLoaded",j="DOMSubtreeModified",x="<",H="=",A=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,N=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],D=[],B=[],R="",I=n.documentElement,V=D.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},q=r.prototype,F=q.hasOwnProperty,z=q.isPrototypeOf,U=r.defineProperty,Y=[],G=r.getOwnPropertyDescriptor,X=r.getOwnPropertyNames,$=r.getPrototypeOf,K=r.setPrototypeOf,Z=!!r.__proto__,Q="__dreCEv1",J=e.customElements,ee=!/^force/.test(t.type)&&!!(J&&J.define&&J.get&&J.whenDefined),te=r.create||r,ne=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[V.call(t,e)]},set:function(r,i){(e=V.call(t,r))<0?n[t.push(r)-1]=i:n[e]=i}}},re=e.Promise||function(e){var t=[],n=!1,r={catch:function(){return r},then:function(e){return t.push(e),n&&setTimeout(i,1),r}};function i(e){for(n=!0;t.length;)t.shift()(e)}return e(i),r},ie=!1,oe=te(null),ae=te(null),se=new ne,le=function(e){return e.toLowerCase()},ue=r.create||function e(t){return t?(e.prototype=t,new e):this},ce=K||(Z?function(e,t){return e.__proto__=t,e}:X&&G?function(){function e(e,t){for(var n,r=X(t),i=0,o=r.length;i<o;i++)n=r[i],F.call(e,n)||U(e,n,G(t,n))}return function(t,n){do{e(t,n)}while((n=$(n))&&!z.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),he=e.MutationObserver||e.WebKitMutationObserver,fe=(e.HTMLElement||e.Element||e.Node).prototype,de=!z.call(fe,I),pe=de?function(e,t,n){return e[t]=n.value,e}:U,ve=de?function(e){return 1===e.nodeType}:function(e){return z.call(fe,e)},ye=de&&[],me=fe.attachShadow,ge=fe.cloneNode,be=fe.dispatchEvent,_e=fe.getAttribute,we=fe.hasAttribute,Te=fe.removeAttribute,Oe=fe.setAttribute,Ee=n.createElement,Me=Ee,ke=he&&{attributes:!0,characterData:!0,attributeOldValue:!0},Pe=he||function(e){xe=!1,I.removeEventListener(L,Pe)},Se=0,Le=p in n&&!/^force-all/.test(t.type),Ce=!0,je=!1,xe=!0,He=!0,Ae=!0;function Ne(){var e=o.splice(0,o.length);for(Se=0;e.length;)e.shift().call(null,e.shift())}function De(e,t){for(var n=0,r=e.length;n<r;n++)Ye(e[n],t)}function Be(e){return function(t){ve(t)&&(Ye(t,e),R.length&&De(t.querySelectorAll(R),e))}}function Re(e){var t=_e.call(e,"is"),n=e.nodeName.toUpperCase(),r=V.call(D,t?H+t.toUpperCase():x+n);return t&&-1<r&&!Ie(n,t)?-1:r}function Ie(e,t){return-1<R.indexOf(e+'[is="'+t+'"]')}function Ve(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target,o=e[P]||2,a=e[S]||3;!Ae||i&&i!==t||!t[w]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==o&&n!==a)||t[w](r,n===o?null:e.prevValue,n===a?null:e.newValue)}function We(e){var t=Be(e);return function(e){o.push(t,e.target),Se&&clearTimeout(Se),Se=setTimeout(Ne,1)}}function qe(e){He&&(He=!1,e.currentTarget.removeEventListener(C,qe)),R.length&&De((e.target||n).querySelectorAll(R),e.detail===b?b:m),de&&function(){for(var e,t=0,n=ye.length;t<n;t++)e=ye[t],I.contains(e)||(n--,ye.splice(t--,1),Ye(e,b))}()}function Fe(e,t){Oe.call(this,e,t),a.call(this,{target:this})}function ze(e,t){ce(e,t),u?u.observe(e,ke):(xe&&(e.setAttribute=Fe,e[v]=l(e),e[y](j,a)),e[y](L,Ve)),e[M]&&Ae&&(e.created=!0,e[M](),e.created=!1)}function Ue(e){throw new Error("A "+e+" type is already registered")}function Ye(e,t){var n,r,i=Re(e);-1<i&&(h(e,B[i]),i=0,t!==m||e[m]?t!==b||e[b]||(e[m]=!1,e[b]=!0,r="disconnected",i=1):(e[b]=!1,e[m]=!0,r="connected",i=1,de&&V.call(ye,e)<0&&ye.push(e)),i&&(n=e[t+g]||e[r+g])&&n.call(e))}function Ge(){}function Xe(e,t,r){var i=r&&r[_]||"",o=t.prototype,a=ue(o),s=t.observedAttributes||Y,l={prototype:a};pe(a,M,{value:function(){if(ie)ie=!1;else if(!this[Q]){this[Q]=!0,new t(this),o[M]&&o[M].call(this);var e=oe[se.get(t)];(!ee||e.create.length>1)&&Ze(this)}}}),pe(a,w,{value:function(e){-1<V.call(s,e)&&o[w].apply(this,arguments)}}),o[O]&&pe(a,T,{value:o[O]}),o[E]&&pe(a,k,{value:o[E]}),i&&(l[_]=i),e=e.toUpperCase(),oe[e]={constructor:t,create:i?[i,le(e)]:[e]},se.set(t,e),n[p](e.toLowerCase(),l),Qe(e),ae[e].r()}function $e(e){var t=oe[e.toUpperCase()];return t&&t.constructor}function Ke(e){return"string"==typeof e?e:e&&e.is||""}function Ze(e){for(var t,n=e[w],r=n?e.attributes:Y,i=r.length;i--;)t=r[i],n.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function Qe(e){return(e=e.toUpperCase())in ae||(ae[e]={},ae[e].p=new re(function(t){ae[e].r=t})),ae[e].p}function Je(){J&&delete e.customElements,U(e,"customElements",{configurable:!0,value:new Ge}),U(e,"CustomElementRegistry",{configurable:!0,value:Ge});for(var t=function(t){var r=e[t];if(r){e[t]=function(e){var t,i;return e||(e=this),e[Q]||(ie=!0,t=oe[se.get(e.constructor)],(e=(i=ee&&1===t.create.length)?Reflect.construct(r,Y,t.constructor):n.createElement.apply(n,t.create))[Q]=!0,ie=!1,i||Ze(e)),e},e[t].prototype=r.prototype;try{r.prototype.constructor=e[t]}catch(n){U(r,Q,{value:e[t]})}}},r=i.get(/^HTML[A-Z]*[a-z]/),o=r.length;o--;t(r[o]));n.createElement=function(e,t){var n=Ke(t);return n?Me.call(this,e,le(n)):Me.call(this,e)},Le||(je=!0,n[p](""))}if(he&&((d=n.createElement("div")).innerHTML="<div><div></div></div>",new he(function(e,t){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var n=(d=G(fe,"innerHTML"))&&d.set;n&&U(fe,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}})}t.disconnect(),d=null}).observe(d,{childList:!0,subtree:!0}),d.innerHTML=""),Le||(K||Z?(h=function(e,t){z.call(t,e)||ze(e,t)},f=ze):f=h=function(e,t){e[v]||(e[v]=r(!0),ze(e,t))},de?(xe=!1,function(){var e=G(fe,y),t=e.value,n=function(e){var t=new W(L,{bubbles:!0});t.attrName=e,t.prevValue=_e.call(this,e),t.newValue=null,t[S]=t.attrChange=2,Te.call(this,e),be.call(this,t)},r=function(e,t){var n=we.call(this,e),r=n&&_e.call(this,e),i=new W(L,{bubbles:!0});Oe.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i.MODIFICATION=i.attrChange=1:i[P]=i.attrChange=0,be.call(this,i)},i=function(e){var t,n=e.currentTarget,r=n[v],i=e.propertyName;r.hasOwnProperty(i)&&(r=r[i],(t=new W(L,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[i]||null,null==t.prevValue?t[P]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,be.call(n,t))};e.value=function(e,o,a){e===L&&this[w]&&this.setAttribute!==r&&(this[v]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",i)),t.call(this,e,o,a)},U(fe,y,e)}()):he||(I[y](L,Pe),I.setAttribute(v,1),I.removeAttribute(v),xe&&(a=function(e){var t,n,r;if(this===e.target){for(r in t=this[v],this[v]=n=l(this),n){if(!(r in t))return s(0,this,r,t[r],n[r],P);if(n[r]!==t[r])return s(1,this,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return s(2,this,r,t[r],n[r],S)}},s=function(e,t,n,r,i,o){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};a[o]=e,Ve(a)},l=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;o<a;o++)"setAttribute"!==(n=(t=i[o]).name)&&(r[n]=t.value);return r})),n[p]=function(e,t){if(r=e.toUpperCase(),Ce&&(Ce=!1,he?(u=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new he(function(r){for(var i,o,a,s=0,l=r.length;s<l;s++)"childList"===(i=r[s]).type?(n(i.addedNodes,e),n(i.removedNodes,t)):(o=i.target,Ae&&o[w]&&"style"!==i.attributeName&&(a=_e.call(o,i.attributeName))!==i.oldValue&&o[w](i.attributeName,i.oldValue,a))})}(Be(m),Be(b)),(c=function(e){return u.observe(e,{childList:!0,subtree:!0}),e})(n),me&&(fe.attachShadow=function(){return c(me.apply(this,arguments))})):(o=[],n[y]("DOMNodeInserted",We(m)),n[y]("DOMNodeRemoved",We(b))),n[y](C,qe),n[y]("readystatechange",qe),fe.cloneNode=function(e){var t=ge.call(this,!!e),n=Re(t);return-1<n&&f(t,B[n]),e&&R.length&&function(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],f(t,B[Re(t)])}(t.querySelectorAll(R)),t}),je)return je=!1;if(-2<V.call(D,H+r)+V.call(D,x+r)&&Ue(e),!A.test(r)||-1<V.call(N,r))throw new Error("The type "+e+" is invalid");var r,i,a=function(){return l?n.createElement(h,r):n.createElement(h)},s=t||q,l=F.call(s,_),h=l?t[_].toUpperCase():r;return l&&-1<V.call(D,x+h)&&Ue(h),i=D.push((l?H:x)+r)-1,R=R.concat(R.length?",":"",l?h+'[is="'+e.toLowerCase()+'"]':h),a.prototype=B[i]=F.call(s,"prototype")?s.prototype:ue(fe),R.length&&De(n.querySelectorAll(R),m),a},n.createElement=Me=function(e,t){var r=Ke(t),i=r?Ee.call(n,e,le(r)):Ee.call(n,e),o=""+e,a=V.call(D,(r?H:x)+(r||o).toUpperCase()),s=-1<a;return r&&(i.setAttribute("is",r=r.toLowerCase()),s&&(s=Ie(o.toUpperCase(),r))),Ae=!n.createElement.innerHTMLHelper,s&&f(i,B[a]),i}),Ge.prototype={constructor:Ge,define:ee?function(e,t,n){if(n)Xe(e,t,n);else{var r=e.toUpperCase();oe[r]={constructor:t,create:[r]},se.set(t,r),J.define(e,t)}}:Xe,get:ee?function(e){return J.get(e)||$e(e)}:$e,whenDefined:ee?function(e){return re.race([J.whenDefined(e),Qe(e)])}:Qe},!J||/^force/.test(t.type))Je();else if(!t.noBuiltIn)try{!function(t,r,i){if(r[_]="a",(t.prototype=ue(HTMLAnchorElement.prototype)).constructor=t,e.customElements.define(i,t,r),_e.call(n.createElement("a",{is:i}),"is")!==i||ee&&_e.call(new t,"is")!==i)throw r}(function e(){return Reflect.construct(HTMLAnchorElement,[],e)},{},"document-register-element-a")}catch(e){Je()}if(!t.noBuiltIn)try{Ee.call(n,"a","a")}catch(e){le=function(e){return{is:e.toLowerCase()}}}}(window);var tn={};Object.defineProperty(tn,"__esModule",{value:!0});var nn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rn=/translate\(([^)]+)\)/g,on=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.el=t,this.order=n,this._styles={}}return nn(e,[{key:"setBehaviorStyle",value:function(e,t,n){this._styles.hasOwnProperty(t)||(this._styles[t]={}),this._styles[t][e]=n,this._applyBehaviorStyle(t)}},{key:"resetBehaviorStyle",value:function(e,t){this._styles.hasOwnProperty(t)&&this._styles[t].hasOwnProperty(e)&&(delete this._styles[t][e],this._applyBehaviorStyle(t))}},{key:"resetBehaviorStyles",value:function(e){for(var t in this._styles)this.resetBehaviorStyle(e,t)}},{key:"_applyBehaviorStyle",value:function(e){if("transform"!==e)if("opacity"===e){var t=1;for(var n in this._styles.opacity)this._styles.opacity.hasOwnProperty(n)&&(t*=this._styles.opacity[n]);this.el.style.opacity=t}else{var r=!1;for(var i in this._styles[e])this._styles[e].hasOwnProperty(i)&&(this.el.style[e]=this._styles[e][i],r=!0);r||(this.el.style[e]="")}else{for(var o=[],a=0;a<this.order.length;a++){var s=this.order[a];this._styles.transform.hasOwnProperty(s)&&o.push(this._styles.transform[s])}(o=o.join(" ")).length>0?(this.el.style.transform=this.el.style.WebkitTransform=o.replace(rn,"translate3d($1, 0)"),this.el.style.msTransform=o):this.el.style.transform=""}}}]),e}();tn.default=on;var an={};Object.defineProperty(an,"__esModule",{value:!0});var sn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ln=cn(It),un=cn(tn);function cn(e){return e&&e.__esModule?e:{default:e}}function hn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var fn=function(e){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=hn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),e=n).init(),hn(n,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),sn(t,[{key:"init",value:function(){this._behaviorsStyleMerger=new un.default(this,ln.default.getBehaviorOrder())}},{key:"setBehaviorStyle",value:function(e,t,n){this._behaviorsStyleMerger.setBehaviorStyle(e,t,n)}},{key:"resetBehaviorStyle",value:function(e,t){this._behaviorsStyleMerger.resetBehaviorStyle(e,t)}},{key:"resetBehaviorStyles",value:function(e){this._behaviorsStyleMerger.resetBehaviorStyles(e)}}]),t}();an.default=fn;var dn={};Object.defineProperty(dn,"__esModule",{value:!0});var pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vn=gn(Me),yn=gn(It),mn=gn(tn);function gn(e){return e&&e.__esModule?e:{default:e}}function bn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _n=[":not(scroll-meister) > element-meister","scroll-meister * element-meister","scroll-meister scroll-meister","element-meister element-meister","element-meister scroll-meister"],wn=function(e){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=bn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),e=n).init(),bn(n,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),pn(t,[{key:"isConnected",get:function(){return!!document.body&&document.body.contains(this)}}]),pn(t,[{key:"init",value:function(){this.behaviors={},this._behaviorsStyleMerger=new mn.default(this,yn.default.getBehaviorOrder()),this._scheduledBatchUpdate=!1,this._scheduledBehaviors={attach:{},detach:{}}}},{key:"connectedCallback",value:function(){var e=this;this._scheduledBatchUpdate&&!this._batchHandle&&(this._batchHandle=(0,vn.default)(this._batchUpdateBehaviors.bind(this))),yn.default.componentConnected(this),(0,vn.default)(function(){document.querySelector(_n.join(","))&&e.renderError(new Error("You have nested <scroll-meister> and <element-meister> elements in an unsupported way. <element-meister> elements need to always be direct children of <scroll-meister>."))})}},{key:"disconnectedCallback",value:function(){this.isConnected||(this._scheduledBatchUpdate=!1,vn.default.cancel(this._batchHandle),delete this._batchHandle,yn.default.detachBehaviors(this,this.behaviors,!0),yn.default.componentDisconnected(this))}},{key:"attributeChangedCallback",value:function(e,t,n){null===n?(this._scheduledBehaviors.detach[e]=!0,delete this._scheduledBehaviors.attach[e]):(this._scheduledBehaviors.attach[e]=n,delete this._scheduledBehaviors.detach[e]),this._scheduledBatchUpdate||(this._scheduledBatchUpdate=!0,this.isConnected&&(this._batchHandle=(0,vn.default)(this._batchUpdateBehaviors.bind(this))))}},{key:"setBehaviorStyle",value:function(e,t,n){this._behaviorsStyleMerger.setBehaviorStyle(e,t,n)}},{key:"resetBehaviorStyle",value:function(e,t){this._behaviorsStyleMerger.resetBehaviorStyle(e,t)}},{key:"resetBehaviorStyles",value:function(e){this._behaviorsStyleMerger.resetBehaviorStyles(e)}},{key:"renderError",value:function(e){}},{key:"_batchUpdateBehaviors",value:function(){this._scheduledBatchUpdate=!1,yn.default.attachBehaviors(this,this._scheduledBehaviors.attach),this._scheduledBehaviors.attach={},yn.default.detachBehaviors(this,this._scheduledBehaviors.detach),this._scheduledBehaviors.detach={}}}]),t}();dn.default=wn;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});var On=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),En=kn(It),Mn=kn(dn);function kn(e){return e&&e.__esModule?e:{default:e}}var Pn=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Mn.default),On(t,null,[{key:"observedAttributes",get:function(){for(var e=En.default.getDefinedBehaviorNames(),t=En.default.getDefinedConditionNames(),n=e.slice(),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.push(i+"_"+a)}return n}}]),t}();Tn.default=Pn;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});var Ln=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Cn=xn(It),jn=xn(dn);function xn(e){return e&&e.__esModule?e:{default:e}}var Hn=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,jn.default),Ln(t,null,[{key:"observedAttributes",get:function(){for(var e=Cn.default.getDefinedBehaviorNames(),t=Cn.default.getDefinedConditionNames(),n=e.slice(),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.push(i+"_"+a)}return n}}]),t}();Sn.default=Hn;var An=Rn(It),Nn=Rn(Sn),Dn=Rn(Tn),Bn=Rn(an);function Rn(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",function(){An.default.behaviorsRegistry.close(),customElements.define("scroll-meister",Nn.default),customElements.define("element-meister",Dn.default),customElements.define("content-meister",Bn.default),customElements.define("shadow-meister",function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),t}())},{once:!0});var In,Vn=(In=It)&&In.__esModule?In:{default:In};Vn.default.defineCondition("m",function(e){return e.innerWidth>=768},function(e){window.addEventListener("resize",function(){e()},!1),e()}),Vn.default.defineCondition("l",function(e){return e.innerWidth>=992}),Vn.default.defineCondition("xl",function(e){return e.innerWidth>=1200}),Vn.default.defineCondition("s-down",function(e){return e.innerWidth<576}),Vn.default.defineCondition("m-down",function(e){return e.innerWidth<768}),Vn.default.defineCondition("l-down",function(e){return e.innerWidth<992}),Vn.default.defineCondition("xl-down",function(e){return e.innerWidth<1200}),Vn.default.defineCondition("portrait",function(e){return e.innerWidth<e.innerHeight}),Vn.default.defineCondition("landscape",function(e){return e.innerWidth>=e.innerHeight}),Vn.default.defineCondition("webgl",function(){return!0}),Vn.default.defineCondition("websockets",function(){return"function"==typeof WebSocket}),Vn.default.defineCondition("wat",["xl","portrait"],function(e,t){return e&&t});var Wn;qn="html{overflow-x:hidden;overflow-y:scroll}body{margin:0}scroll-meister{display:block;position:static;width:100%;overflow:hidden}element-meister{display:block;position:fixed;left:0;top:0;opacity:1}content-meister{display:block;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}shadow-meister{position:static !important;display:block;display:contents}\n\n/*# sourceMappingURL=scrollmeister.sass.map */",Fn={},zn=document.head||document.getElementsByTagName("head")[0],Un=document.createElement("style"),Fn=Fn||{},Un.type="text/css",Fn.href&&Un.setAttribute("data-href",Fn.href),Un.sheet?(Un.innerHTML=qn,Un.sheet.cssText=qn):Un.styleSheet?Un.styleSheet.cssText=qn:Un.appendChild(document.createTextNode(qn)),Fn.prepend?zn.insertBefore(Un,zn.childNodes[0]):zn.appendChild(Un);var qn,Fn,zn,Un;return((Wn=It)&&Wn.__esModule?Wn:{default:Wn}).default});